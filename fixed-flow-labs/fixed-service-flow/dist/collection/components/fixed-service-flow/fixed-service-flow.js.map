{"version":3,"file":"fixed-service-flow.js","sourceRoot":"","sources":["../../../src/components/fixed-service-flow/fixed-service-flow.tsx"],"names":[],"mappings":"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","sourcesContent":["// ============================================\n// FIXED SERVICE FLOW - Main Orchestrator Component\n// Fixed Service Flow Web Component\n// ============================================\n\nimport { Component, Prop, State, Event, EventEmitter, h, Host, Watch } from '@stencil/core';\nimport { flowState, flowActions } from '../../store/flow.store';\nimport { httpService, tokenService } from '../../services';\nimport {\n  FlowCompleteEvent,\n  FlowErrorEvent,\n  StepChangeEvent,\n  FlowStep,\n} from '../../store/interfaces';\n// @ts-ignore: STEP_TITLES reserved for future use (step header rendering)\nimport { STEP_TITLES as _STEP_TITLES } from '../../utils/constants';\n\n/**\n * CLARO HOGAR step names for clarity\n */\nconst CLARO_HOGAR_STEPS = {\n  LOCATION: 1,        // Ubicación/Cobertura\n  CATALOGUE: 2,       // Catálogo de productos\n  PRODUCT_DETAIL: 3,  // Detalle del producto\n  PLANS: 4,           // Planes de internet\n  ORDER_SUMMARY: 5,   // Resumen de orden\n  SHIPPING: 6,        // Dirección de envío\n  PAYMENT: 7,         // Pago\n  CONFIRMATION: 8,    // Confirmación\n} as const;\n\n// Max step per flow type\nconst MAX_STEP_STANDARD = 5;\nconst MAX_STEP_CLARO_HOGAR = 8;\n\n@Component({\n  tag: 'fixed-service-flow',\n  styleUrl: 'fixed-service-flow.scss',\n  shadow: true,\n})\nexport class FixedServiceFlow {\n  // ------------------------------------------\n  // PROPS\n  // ------------------------------------------\n\n  /**\n   * Base URL for the API\n   */\n  @Prop() apiUrl!: string;\n\n  /**\n   * Google Maps API Key\n   */\n  @Prop() googleMapsKey!: string;\n\n  /**\n   * Optional correlation ID for tracking\n   */\n  @Prop() correlationId?: string;\n\n  /**\n   * Initial step (default: 1)\n   */\n  @Prop() initialStep?: FlowStep = 1;\n\n  /**\n   * Debug mode\n   */\n  @Prop() debug?: boolean = false;\n\n  // ------------------------------------------\n  // STATE\n  // ------------------------------------------\n\n  @State() currentStep: FlowStep = 1;\n  @State() isLoading: boolean = true;\n  @State() error: string | null = null;\n  @State() isInitialized: boolean = false;\n\n  // ------------------------------------------\n  // EVENTS\n  // ------------------------------------------\n\n  /**\n   * Emitted when the flow completes successfully\n   */\n  @Event() flowComplete: EventEmitter<FlowCompleteEvent>;\n\n  /**\n   * Emitted when an error occurs\n   */\n  @Event() flowError: EventEmitter<FlowErrorEvent>;\n\n  /**\n   * Emitted when user cancels the flow\n   */\n  @Event() flowCancel: EventEmitter<void>;\n\n  /**\n   * Emitted when step changes\n   */\n  @Event() stepChange: EventEmitter<StepChangeEvent>;\n\n  // ------------------------------------------\n  // WATCHERS\n  // ------------------------------------------\n\n  @Watch('apiUrl')\n  handleApiUrlChange(newValue: string) {\n    if (newValue) {\n      httpService.setBaseUrl(newValue);\n    }\n  }\n\n  // ------------------------------------------\n  // LIFECYCLE\n  // ------------------------------------------\n\n  async componentWillLoad() {\n    // Set debug mode\n    if (this.debug) {\n      (window as any).__FSF_DEBUG__ = true;\n    }\n\n    // Configure HTTP service\n    if (this.apiUrl) {\n      httpService.setBaseUrl(this.apiUrl);\n    }\n\n    // Set initial step\n    if (this.initialStep) {\n      this.currentStep = this.initialStep;\n      flowActions.setStep(this.initialStep);\n    }\n\n    // Initialize token\n    await this.initializeToken();\n  }\n\n  componentDidLoad() {\n    this.log('Component loaded');\n  }\n\n  disconnectedCallback() {\n    this.log('Component disconnected');\n    // Cleanup if needed\n  }\n\n  // ------------------------------------------\n  // INITIALIZATION\n  // ------------------------------------------\n\n  private async initializeToken(): Promise<void> {\n    this.isLoading = true;\n    this.error = null;\n\n    try {\n      const success = await tokenService.initialize();\n\n      if (!success) {\n        this.error = 'Error al inicializar la sesión';\n        this.emitError(new Error(this.error), false);\n      }\n\n      this.isInitialized = true;\n    } catch (err) {\n      this.error = err.message || 'Error de inicialización';\n      this.emitError(err, false);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  // ------------------------------------------\n  // NAVIGATION\n  // ------------------------------------------\n\n  private handleStepChange = (direction: 'forward' | 'backward') => {\n    const from = this.currentStep;\n    const maxStep = this.isClaroHogar() ? MAX_STEP_CLARO_HOGAR : MAX_STEP_STANDARD;\n    let to: FlowStep;\n\n    if (direction === 'forward') {\n      to = Math.min(this.currentStep + 1, maxStep) as FlowStep;\n      flowActions.nextStep();\n    } else {\n      to = Math.max(this.currentStep - 1, 1) as FlowStep;\n      flowActions.prevStep();\n    }\n\n    this.currentStep = to;\n    flowActions.setStep(to);\n\n    this.stepChange.emit({ from, to, direction });\n    this.log(`Step changed: ${from} -> ${to}`);\n  };\n\n  // @ts-ignore: goToStep reserved for future use (direct step navigation)\n  private _goToStep = (step: FlowStep) => {\n    const from = this.currentStep;\n    const direction = step > from ? 'forward' : 'backward';\n\n    flowActions.setStep(step);\n    this.currentStep = step;\n\n    this.stepChange.emit({ from, to: step, direction });\n    this.log(`Step changed: ${from} -> ${step}`);\n  };\n\n  // ------------------------------------------\n  // EVENT HANDLERS\n  // ------------------------------------------\n\n  private handleFlowComplete = (event: FlowCompleteEvent) => {\n    this.log('Flow completed', event);\n    this.flowComplete.emit(event);\n  };\n\n  private handleFlowCancel = () => {\n    this.log('Flow cancelled');\n    flowActions.resetFlow();\n    this.currentStep = 1;\n    flowActions.setStep(1);\n    this.flowCancel.emit();\n  };\n\n  private emitError(error: Error | string, recoverable: boolean = true) {\n    this.flowError.emit({\n      step: this.currentStep,\n      error,\n      recoverable,\n    });\n  }\n\n  // ------------------------------------------\n  // HELPERS\n  // ------------------------------------------\n\n  private log(...args: any[]) {\n    if (this.debug) {\n      console.log('[FixedServiceFlow]', ...args);\n    }\n  }\n\n  /**\n   * Checks if the current flow is for CLARO HOGAR (wireless internet)\n   */\n  private isClaroHogar(): boolean {\n    const serviceType = flowState.location?.serviceType?.toUpperCase();\n    return serviceType === 'CLARO HOGAR';\n  }\n\n  // ------------------------------------------\n  // RENDER\n  // ------------------------------------------\n\n  private renderStep() {\n    const stepProps = {\n      onNext: () => this.handleStepChange('forward'),\n      onBack: () => this.handleStepChange('backward'),\n      onComplete: this.handleFlowComplete,\n      googleMapsKey: this.googleMapsKey,\n    };\n\n    // CLARO HOGAR Flow (e-commerce)\n    if (this.isClaroHogar()) {\n      this.log('CLARO HOGAR flow - step:', this.currentStep);\n      return this.renderClaroHogarStep(stepProps);\n    }\n\n    // Standard Flow (GPON/VRAD - internet service request)\n    return this.renderStandardStep(stepProps);\n  }\n\n  /**\n   * Renders steps for Standard Flow (GPON/VRAD)\n   * Steps: 1.Location -> 2.Plans -> 3.Contract -> 4.Form -> 5.Confirmation\n   */\n  private renderStandardStep(stepProps: any) {\n    switch (this.currentStep) {\n      case 1:\n        return <step-location {...stepProps} />;\n      case 2:\n        return <step-plans {...stepProps} />;\n      case 3:\n        return <step-contract {...stepProps} />;\n      case 4:\n        return <step-form {...stepProps} />;\n      case 5:\n        return <step-confirmation {...stepProps} onCancel={this.handleFlowCancel} />;\n      default:\n        return null;\n    }\n  }\n\n  /**\n   * Renders steps for CLARO HOGAR Flow (e-commerce)\n   * Steps: 1.Location -> 2.Catalogue -> 3.ProductDetail -> 4.Plans ->\n   *        5.OrderSummary -> 6.Shipping -> 7.Payment -> 8.Confirmation\n   */\n  private renderClaroHogarStep(stepProps: any) {\n    switch (this.currentStep) {\n      case CLARO_HOGAR_STEPS.LOCATION:\n        return <step-location {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.CATALOGUE:\n        return <step-catalogue {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.PRODUCT_DETAIL:\n        return <step-product-detail {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.PLANS:\n        // Plans for the selected product\n        return <step-plans {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.ORDER_SUMMARY:\n        return <step-order-summary {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.SHIPPING:\n        return <step-shipping {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.PAYMENT:\n        return <step-payment {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.CONFIRMATION:\n        return <step-confirmation {...stepProps} onCancel={this.handleFlowCancel} />;\n\n      default:\n        return null;\n    }\n  }\n\n  private renderLoading() {\n    return (\n      <div class=\"fsf-loading\">\n        <div class=\"fsf-loading__spinner\"></div>\n        <p class=\"fsf-loading__text\">Cargando...</p>\n      </div>\n    );\n  }\n\n  private renderError() {\n    return (\n      <div class=\"fsf-error\">\n        <div class=\"fsf-error__icon\">!</div>\n        <h3 class=\"fsf-error__title\">Error</h3>\n        <p class=\"fsf-error__message\">{this.error}</p>\n        <button class=\"fsf-error__button\" onClick={() => this.initializeToken()}>\n          Reintentar\n        </button>\n      </div>\n    );\n  }\n\n  render() {\n    // Show loading state\n    if (this.isLoading) {\n      return (\n        <Host>\n          {this.renderLoading()}\n        </Host>\n      );\n    }\n\n    // Show error state\n    if (this.error && !this.isInitialized) {\n      return (\n        <Host>\n          {this.renderError()}\n        </Host>\n      );\n    }\n\n    // Render flow\n    return (\n      <Host>\n        <div class=\"fsf-container\">\n          {this.renderStep()}\n        </div>\n      </Host>\n    );\n  }\n}\n"]}