{"file":"p-DMGv_13C.js","mappings":"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","names":["__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/steps/step-catalogue/step-catalogue.scss?tag=step-catalogue&encapsulation=shadow","src/components/steps/step-catalogue/step-catalogue.tsx"],"sourcesContent":["// ============================================\n// STEP CATALOGUE - Modem Selection Styles\n// Design based on docs/capturas/3.png\n// Carousel + Summary Bar layout\n// ============================================\n\n@import '../../../global/variables';\n@import '../../../global/mixins';\n\n:host {\n  display: block;\n}\n\n.step-catalogue {\n  width: 100%;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background: $color-white;\n\n  // ============================================\n  // HEADER\n  // ============================================\n\n  &__header {\n    width: 100%;\n    background: $color-white;\n    padding: $spacing-4 $spacing-6;\n    box-sizing: border-box;\n\n    @include breakpoint-down(sm) {\n      padding: $spacing-3 $spacing-4;\n    }\n  }\n\n  &__back-link {\n    display: inline-flex;\n    align-items: center;\n    gap: $spacing-1;\n    padding: $spacing-2 0;\n    background: transparent;\n    border: none;\n    color: $color-secondary;\n    font-size: $font-size-sm;\n    font-weight: $font-weight-semibold;\n    cursor: pointer;\n    transition: opacity $transition-fast;\n\n    svg {\n      width: 20px;\n      height: 20px;\n    }\n\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n\n  &__title {\n    margin: $spacing-3 0 $spacing-4;\n    font-size: 24px;\n    font-weight: $font-weight-bold;\n    color: $color-text-primary;\n    line-height: 1.2;\n\n    @include breakpoint-down(sm) {\n      font-size: 20px;\n      margin: $spacing-2 0 $spacing-3;\n    }\n  }\n\n  &__divider {\n    height: 1px;\n    background: $color-gray-200;\n    margin: 0 (-$spacing-6);\n\n    @include breakpoint-down(sm) {\n      margin: 0 (-$spacing-4);\n    }\n  }\n\n  // ============================================\n  // LOADING & ERROR STATES\n  // ============================================\n\n  &__loading,\n  &__error,\n  &__empty {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: $spacing-8;\n    text-align: center;\n\n    p {\n      margin-top: $spacing-4;\n      font-size: $font-size-base;\n      color: $color-text-secondary;\n    }\n\n    button {\n      margin-top: $spacing-4;\n      padding: $spacing-2 $spacing-6;\n      background: $color-secondary;\n      color: $color-white;\n      border: none;\n      border-radius: 20px;\n      font-size: $font-size-sm;\n      font-weight: $font-weight-semibold;\n      cursor: pointer;\n      transition: background $transition-fast;\n\n      &:hover {\n        background: darken($color-secondary, 8%);\n      }\n    }\n  }\n\n  &__spinner {\n    width: 48px;\n    height: 48px;\n    border: 4px solid $color-gray-200;\n    border-top-color: $color-secondary;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  // ============================================\n  // CAROUSEL CONTAINER\n  // ============================================\n\n  &__carousel-container {\n    flex: 1;\n    padding: $spacing-6;\n    overflow: hidden;\n\n    @include breakpoint-down(sm) {\n      padding: $spacing-4;\n    }\n  }\n\n  // ============================================\n  // SUMMARY BAR (Footer)\n  // ============================================\n\n  &__summary-bar {\n    width: 100%;\n    position: sticky;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: $color-white;\n    border-top: 1px solid $color-gray-200;\n    box-shadow: 0 -4px 16px rgba(0, 0, 0, 0.08);\n    padding: $spacing-4 $spacing-6;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: $spacing-4;\n    z-index: 10;\n    box-sizing: border-box;\n\n    @include breakpoint-down(lg) {\n      flex-direction: column;\n      gap: $spacing-4;\n    }\n\n    @include breakpoint-down(sm) {\n      padding: $spacing-3 $spacing-4;\n    }\n  }\n\n  &__summary-content {\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    gap: $spacing-4;\n    flex: 1;\n\n    @include breakpoint-down(lg) {\n      width: 100%;\n      grid-template-columns: repeat(3, 1fr);\n    }\n\n    @include breakpoint-down(sm) {\n      grid-template-columns: repeat(2, 1fr);\n      gap: $spacing-2;\n    }\n  }\n\n  &__summary-item {\n    display: flex;\n    flex-direction: column;\n    gap: $spacing-1;\n\n    &--highlight {\n      .step-catalogue__summary-label {\n        color: $color-text-primary;\n        font-weight: $font-weight-bold;\n      }\n    }\n  }\n\n  &__summary-label {\n    font-size: $font-size-xs;\n    font-weight: $font-weight-medium;\n    color: $color-text-secondary;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n  }\n\n  &__summary-value {\n    font-size: $font-size-sm;\n    font-weight: $font-weight-semibold;\n    color: $color-text-primary;\n\n    &--red {\n      color: $color-primary;\n      font-weight: $font-weight-bold;\n    }\n  }\n\n  &__continue-btn {\n    padding: $spacing-3 $spacing-8;\n    background: $color-primary;\n    color: $color-white;\n    border: none;\n    border-radius: 30px;\n    font-size: $font-size-base;\n    font-weight: $font-weight-bold;\n    cursor: pointer;\n    white-space: nowrap;\n    transition: all $transition-fast;\n    min-width: 160px;\n\n    &:hover:not(:disabled) {\n      background: darken($color-primary, 8%);\n    }\n\n    &:disabled,\n    &--disabled {\n      background: $color-gray-400;\n      cursor: not-allowed;\n    }\n\n    @include breakpoint-down(lg) {\n      width: 100%;\n      padding: $spacing-4;\n    }\n  }\n}\n\n// ============================================\n// PRODUCT CARD\n// ============================================\n\n.product-card {\n  background: $color-white;\n  border: 2px solid $color-gray-200;\n  border-radius: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  transition: all $transition-fast;\n  position: relative;\n  height: 100%;\n  min-height: 220px;\n  // Flexbox for equal height cards with footer at bottom\n  display: flex;\n  flex-direction: column;\n\n  &:hover {\n    border-color: $color-gray-300;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n    transform: translateY(-2px);\n  }\n\n  // Selected state - cyan border\n  &--selected {\n    border-color: $color-secondary;\n    box-shadow: 0 4px 16px rgba($color-secondary, 0.2);\n\n    &:hover {\n      border-color: $color-secondary;\n    }\n  }\n\n  // Loading state\n  &--loading {\n    opacity: 0.7;\n    pointer-events: none;\n  }\n\n  // ------------------------------------------\n  // CARD CONTENT\n  // ------------------------------------------\n\n  &__content {\n    display: grid;\n    grid-template-columns: 120px 1fr;\n    gap: $spacing-4;\n    padding: $spacing-4;\n    // Grow to fill available space, pushing footer to bottom\n    flex: 1;\n\n    @include breakpoint-down(sm) {\n      grid-template-columns: 100px 1fr;\n      gap: $spacing-3;\n      padding: $spacing-3;\n    }\n  }\n\n  // ------------------------------------------\n  // IMAGE SECTION\n  // ------------------------------------------\n\n  &__image {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: $color-white;\n    border-radius: 8px;\n    padding: $spacing-2;\n\n    img {\n      max-width: 100%;\n      max-height: 100px;\n      object-fit: contain;\n    }\n  }\n\n  // ------------------------------------------\n  // INFO SECTION\n  // ------------------------------------------\n\n  &__info {\n    display: flex;\n    flex-direction: column;\n    gap: $spacing-2;\n  }\n\n  &__name {\n    margin: 0;\n    font-size: $font-size-base;\n    font-weight: $font-weight-bold;\n    color: $color-text-primary;\n    line-height: 1.3;\n\n    @include breakpoint-down(sm) {\n      font-size: $font-size-sm;\n    }\n  }\n\n  &__financed {\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n  }\n\n  &__financed-label {\n    font-size: $font-size-xs;\n    font-weight: $font-weight-semibold;\n    color: $color-text-primary;\n  }\n\n  &__financed-price {\n    font-size: $font-size-lg;\n    font-weight: $font-weight-bold;\n    color: $color-primary;\n  }\n\n  &__installments {\n    font-size: $font-size-xs;\n    color: $color-text-secondary;\n  }\n\n  &__regular-price {\n    margin: 0;\n    font-size: $font-size-xs;\n    color: $color-text-secondary;\n  }\n\n  &__description {\n    margin: $spacing-2 0 0;\n    font-size: $font-size-xs;\n    color: $color-text-secondary;\n    line-height: 1.4;\n\n    @include breakpoint-down(sm) {\n      display: none;\n    }\n  }\n\n  // ------------------------------------------\n  // PROCESSING OVERLAY\n  // ------------------------------------------\n\n  &__processing {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(255, 255, 255, 0.8);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  &__spinner {\n    width: 32px;\n    height: 32px;\n    border: 3px solid $color-gray-200;\n    border-top-color: $color-secondary;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  // ------------------------------------------\n  // CARD FOOTER\n  // ------------------------------------------\n\n  &__footer {\n    border-top: 1px solid $color-gray-200;\n    padding: $spacing-3 $spacing-4;\n    margin-top: auto;\n  }\n\n  &__footer-text {\n    margin: 0;\n    font-size: $font-size-xs;\n    color: $color-text-secondary;\n    text-align: left;\n    line-height: 1.4;\n  }\n}\n\n// ============================================\n// UNAVAILABLE MODAL\n// ============================================\n\n.unavailable-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: $spacing-4;\n  animation: fadeIn 0.2s ease-out;\n}\n\n.unavailable-modal {\n  background: $color-white;\n  border-radius: 16px;\n  padding: $spacing-8;\n  max-width: 400px;\n  width: 100%;\n  text-align: center;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);\n  animation: modalSlideIn 0.3s ease-out;\n\n  &__icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 64px;\n    height: 64px;\n    margin: 0 auto $spacing-4;\n    background: #FFF3CD;\n    border-radius: 50%;\n\n    svg {\n      width: 32px;\n      height: 32px;\n      color: #856404;\n    }\n  }\n\n  &__title {\n    margin: 0 0 $spacing-3;\n    font-size: 20px;\n    font-weight: $font-weight-bold;\n    color: $color-text-primary;\n  }\n\n  &__message {\n    margin: 0 0 $spacing-6;\n    font-size: $font-size-base;\n    color: $color-text-secondary;\n    line-height: 1.5;\n  }\n\n  &__button {\n    padding: $spacing-3 $spacing-8;\n    background: $color-primary;\n    color: $color-white;\n    border: none;\n    border-radius: 30px;\n    font-size: $font-size-base;\n    font-weight: $font-weight-bold;\n    cursor: pointer;\n    transition: background $transition-fast;\n    min-width: 160px;\n\n    &:hover {\n      background: darken($color-primary, 8%);\n    }\n  }\n}\n\n// ============================================\n// ANIMATIONS\n// ============================================\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes modalSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n","// ============================================\n// STEP CATALOGUE - Modem Selection for CLARO HOGAR\n// Fixed Service Flow Web Component\n// Design based on docs/capturas/3.png - Carousel + Summary Bar\n// ============================================\n\nimport { Component, Prop, State, h, Host } from '@stencil/core';\nimport { catalogueService, productService, cartService } from '../../../services';\nimport { CatalogueProduct, ProductDetail } from '../../../store/interfaces';\nimport { formatPrice } from '../../../utils/formatters';\n\n// ------------------------------------------\n// SUMMARY DATA INTERFACE\n// ------------------------------------------\n\ninterface SummaryData {\n  productName: string;\n  planPrice: number;\n  svaPrice: number;\n  equipmentPrice: number;\n  payToday: number;\n}\n\n@Component({\n  tag: 'step-catalogue',\n  styleUrl: 'step-catalogue.scss',\n  shadow: true,\n})\nexport class StepCatalogue {\n  // ------------------------------------------\n  // PROPS\n  // ------------------------------------------\n\n  @Prop() onNext: () => void;\n  @Prop() onBack: () => void;\n\n  // ------------------------------------------\n  // STATE\n  // ------------------------------------------\n\n  // Products from catalogue\n  @State() products: CatalogueProduct[] = [];\n  @State() isLoading: boolean = true;\n  @State() error: string | null = null;\n\n  // Product details cache (loaded in parallel)\n  @State() productsWithDetails: Map<number, ProductDetail> = new Map();\n  @State() loadingDetails: Set<number> = new Set();\n\n  // Selection state\n  @State() selectedProduct: CatalogueProduct | null = null;\n  @State() selectedProductDetail: ProductDetail | null = null;\n  @State() isAddingToCart: boolean = false;\n\n  // Unavailable modal\n  @State() showUnavailableModal: boolean = false;\n\n  // Summary bar data\n  @State() summaryData: SummaryData | null = null;\n\n  // ------------------------------------------\n  // LIFECYCLE\n  // ------------------------------------------\n\n  componentWillLoad() {\n    // isLoading is already true by default, so loader will show immediately\n  }\n\n  componentDidLoad() {\n    // Load products after component renders\n    this.loadProducts();\n  }\n\n  // ------------------------------------------\n  // DATA LOADING METHODS\n  // ------------------------------------------\n\n  /**\n   * Loads products from catalogue API\n   * Uses \"Internet Inalámbrico\" filter by default\n   */\n  private async loadProducts() {\n    this.isLoading = true;\n    this.error = null;\n\n    try {\n      // Default to \"Internet Inalámbrico\" subcatalog\n      const subcatalogId = catalogueService.FILTER_INTERNET_INALAMBRICO;\n\n      const response = await catalogueService.listCatalogue(subcatalogId, 1, '');\n\n      this.products = response.products || [];\n\n      // After loading products, load details for visible ones\n      if (this.products.length > 0) {\n        await this.loadProductsDetails(this.products);\n      }\n    } catch (err) {\n      console.error('[StepCatalogue] Error loading products:', err);\n      this.error = 'Error al cargar el catálogo de productos';\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  /**\n   * Loads product details in parallel for faster UX\n   * @param products - Products to load details for\n   */\n  private async loadProductsDetails(products: CatalogueProduct[]) {\n    // Load details for first 6 products in parallel\n    const productsToLoad = products.slice(0, 6);\n\n    const detailPromises = productsToLoad.map(async (product) => {\n      // Skip if already loaded\n      if (this.productsWithDetails.has(product.productId)) {\n        return;\n      }\n\n      // Mark as loading\n      this.loadingDetails = new Set([...this.loadingDetails, product.productId]);\n\n      try {\n        const response = await productService.getEquipmentDetail(product.productId);\n\n        if (!response.hasError && response.product) {\n          const newMap = new Map(this.productsWithDetails);\n          newMap.set(product.productId, response.product);\n          this.productsWithDetails = newMap;\n        }\n      } catch (err) {\n        console.error(`[StepCatalogue] Error loading details for ${product.productId}:`, err);\n      } finally {\n        const newSet = new Set(this.loadingDetails);\n        newSet.delete(product.productId);\n        this.loadingDetails = newSet;\n      }\n    });\n\n    await Promise.allSettled(detailPromises);\n  }\n\n  // ------------------------------------------\n  // SELECTION & CART METHODS\n  // ------------------------------------------\n\n  /**\n   * Handles product selection\n   * - Loads details if not cached\n   * - Updates summary bar\n   * - Calls addToCart API\n   */\n  private handleSelectProduct = async (product: CatalogueProduct) => {\n    // If clicking the same product, do nothing\n    if (this.selectedProduct?.productId === product.productId) {\n      return;\n    }\n\n    this.isAddingToCart = true;\n    this.error = null;\n\n    try {\n      // Get product detail (from cache or API)\n      let productDetail = this.productsWithDetails.get(product.productId);\n\n      if (!productDetail) {\n        // Load detail on demand\n        console.log('[StepCatalogue] Loading detail for:', product.productId);\n        const response = await productService.getEquipmentDetail(product.productId);\n\n        if (response.hasError || !response.product) {\n          throw new Error('Error al cargar detalles del producto');\n        }\n\n        productDetail = response.product;\n\n        // Cache it\n        const newMap = new Map(this.productsWithDetails);\n        newMap.set(product.productId, productDetail);\n        this.productsWithDetails = newMap;\n      }\n\n      // Check availability BEFORE proceeding (stock must be > 1)\n      const ENTRY_BARRIER = 1;\n      if (productDetail.stock === undefined || productDetail.stock <= ENTRY_BARRIER) {\n        console.log('[StepCatalogue] Product unavailable, stock:', productDetail.stock);\n        this.showUnavailableModal = true;\n        this.isAddingToCart = false;\n        return;\n      }\n\n      // Update selection\n      this.selectedProduct = product;\n      this.selectedProductDetail = productDetail;\n\n      // Update summary bar\n      this.updateSummaryData(product, productDetail);\n\n      // Store product in session for next steps\n      const subcatalogId = parseInt(catalogueService.FILTER_INTERNET_INALAMBRICO, 10);\n      catalogueService.storeProductInSession(product);\n      productService.storeSelectedProduct(product, subcatalogId);\n\n      // Add to cart\n      console.log('[StepCatalogue] Adding to cart:', product.productName);\n      const cartResponse = await cartService.addToCart(\n        productDetail,\n        product.installments || 24,\n        1\n      );\n\n      if (cartResponse.hasError) {\n        console.error('[StepCatalogue] Cart error:', cartResponse.message);\n        // Still allow selection even if cart fails\n      } else {\n        console.log('[StepCatalogue] Added to cart, mainId:', cartResponse.code);\n      }\n\n    } catch (err) {\n      console.error('[StepCatalogue] Selection error:', err);\n      this.error = 'Error al seleccionar el producto. Por favor intente de nuevo.';\n    } finally {\n      this.isAddingToCart = false;\n    }\n  };\n\n  /**\n   * Updates the summary bar data based on selected product\n   */\n  private updateSummaryData(product: CatalogueProduct, detail: ProductDetail) {\n    // Calculate \"Paga hoy\" = regular_price (down payment + any initial costs)\n    const payToday = product.regular_price || detail.decDownPayment || 0;\n\n    this.summaryData = {\n      productName: product.productName,\n      planPrice: 0, // Will be set in step-plans\n      svaPrice: 0,  // No SVA at this point\n      equipmentPrice: product.update_price || 0, // Monthly equipment payment\n      payToday: payToday,\n    };\n  }\n\n  /**\n   * Handles continue button click\n   * Proceeds to step-plans\n   */\n  private handleContinue = () => {\n    if (this.selectedProduct && !this.isAddingToCart) {\n      this.onNext?.();\n    }\n  };\n\n  /**\n   * Closes the unavailable product modal\n   */\n  private handleCloseUnavailableModal = () => {\n    this.showUnavailableModal = false;\n  };\n\n  // ------------------------------------------\n  // RENDER HELPERS\n  // ------------------------------------------\n\n  /**\n   * Renders the unavailable product modal\n   */\n  private renderUnavailableModal() {\n    if (!this.showUnavailableModal) {\n      return null;\n    }\n\n    return (\n      <div class=\"unavailable-modal-overlay\" onClick={this.handleCloseUnavailableModal}>\n        <div class=\"unavailable-modal\" onClick={(e) => e.stopPropagation()}>\n          <div class=\"unavailable-modal__icon\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n              <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\n              <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"></line>\n            </svg>\n          </div>\n          <h3 class=\"unavailable-modal__title\">Producto no disponible</h3>\n          <p class=\"unavailable-modal__message\">\n            Lo sentimos, este producto no está disponible en este momento.\n            Por favor, seleccione otro equipo.\n          </p>\n          <button class=\"unavailable-modal__button\" onClick={this.handleCloseUnavailableModal}>\n            Entendido\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Renders a product card for the carousel\n   */\n  private renderProductCard(product: CatalogueProduct) {\n    const isSelected = this.selectedProduct?.productId === product.productId;\n    const isLoadingDetail = this.loadingDetails.has(product.productId);\n    const isProcessing = this.isAddingToCart && isSelected;\n\n    return (\n      <div\n        class={{\n          'product-card': true,\n          'product-card--selected': isSelected,\n          'product-card--loading': isLoadingDetail,\n        }}\n        onClick={() => !this.isAddingToCart && this.handleSelectProduct(product)}\n      >\n        {/* Card content: Image | Info */}\n        <div class=\"product-card__content\">\n          {/* Left: Image */}\n          <div class=\"product-card__image\">\n            <img src={product.imgUrl} alt={product.productName} loading=\"lazy\" />\n          </div>\n\n          {/* Right: Info */}\n          <div class=\"product-card__info\">\n            <h3 class=\"product-card__name\">{product.productName}</h3>\n\n            {/* Financed price */}\n            {product.installments > 0 && (\n              <div class=\"product-card__financed\">\n                <span class=\"product-card__financed-label\">Financiado</span>\n                <span class=\"product-card__financed-price\">\n                  {formatPrice(product.update_price || 0)}/mes\n                </span>\n                <span class=\"product-card__installments\">\n                  {product.installments} plazos\n                </span>\n              </div>\n            )}\n\n            {/* Regular price */}\n            <p class=\"product-card__regular-price\">\n              Precio regular: {formatPrice(product.regular_price || 0)}\n            </p>\n          </div>\n        </div>\n\n        {/* Card footer with message */}\n        <div class=\"product-card__footer\">\n          <p class=\"product-card__footer-text\">¡Mantente conectado en todo momento!</p>\n        </div>\n\n        {/* Loading indicator for detail fetch */}\n        {isProcessing && (\n          <div class=\"product-card__processing\">\n            <div class=\"product-card__spinner\"></div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  /**\n   * Renders the summary bar footer\n   */\n  private renderSummaryBar() {\n    const productName = this.summaryData?.productName || '-';\n    const planPrice = this.summaryData?.planPrice || 0;\n    const svaPrice = this.summaryData?.svaPrice || 0;\n    const equipmentPrice = this.summaryData?.equipmentPrice || 0;\n    const payToday = this.summaryData?.payToday || 0;\n\n    return (\n      <footer class=\"step-catalogue__summary-bar\">\n        <div class=\"step-catalogue__summary-content\">\n          {/* PCD */}\n          <div class=\"step-catalogue__summary-item\">\n            <span class=\"step-catalogue__summary-label\">PCD</span>\n            <span class=\"step-catalogue__summary-value\">{productName}</span>\n          </div>\n\n          {/* Plan */}\n          <div class=\"step-catalogue__summary-item\">\n            <span class=\"step-catalogue__summary-label\">Plan</span>\n            <span class=\"step-catalogue__summary-value\">\n              {formatPrice(planPrice)} / mes\n            </span>\n          </div>\n\n          {/* SVA */}\n          <div class=\"step-catalogue__summary-item\">\n            <span class=\"step-catalogue__summary-label\">SVA</span>\n            <span class=\"step-catalogue__summary-value\">\n              {formatPrice(svaPrice)} / mes\n            </span>\n          </div>\n\n          {/* Equipo / Accesorio */}\n          <div class=\"step-catalogue__summary-item\">\n            <span class=\"step-catalogue__summary-label\">Equipo / Accesorio</span>\n            <span class=\"step-catalogue__summary-value\">\n              {formatPrice(equipmentPrice)} / mes\n            </span>\n          </div>\n\n          {/* Paga hoy */}\n          <div class=\"step-catalogue__summary-item step-catalogue__summary-item--highlight\">\n            <span class=\"step-catalogue__summary-label\">Paga hoy</span>\n            <span class=\"step-catalogue__summary-value step-catalogue__summary-value--red\">\n              {formatPrice(payToday)} + IVU\n            </span>\n          </div>\n        </div>\n\n        {/* Continue button */}\n        <button\n          class={{\n            'step-catalogue__continue-btn': true,\n            'step-catalogue__continue-btn--disabled': !this.selectedProduct || this.isAddingToCart,\n          }}\n          onClick={this.handleContinue}\n          disabled={!this.selectedProduct || this.isAddingToCart}\n        >\n          {this.isAddingToCart ? 'Procesando...' : 'Continuar'}\n        </button>\n      </footer>\n    );\n  }\n\n  // ------------------------------------------\n  // RENDER\n  // ------------------------------------------\n\n  render() {\n    return (\n      <Host>\n        <div class=\"step-catalogue\">\n          {/* Header */}\n          <header class=\"step-catalogue__header\">\n            <button class=\"step-catalogue__back-link\" onClick={this.onBack}>\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                <polyline points=\"15 18 9 12 15 6\"></polyline>\n              </svg>\n              <span>Regresar</span>\n            </button>\n            <h1 class=\"step-catalogue__title\">Escoger modem para servicio fijo</h1>\n            <div class=\"step-catalogue__divider\"></div>\n          </header>\n\n          {/* Loading state */}\n          {this.isLoading && (\n            <div class=\"step-catalogue__loading\">\n              <div class=\"step-catalogue__spinner\"></div>\n              <p>Cargando productos...</p>\n            </div>\n          )}\n\n          {/* Error state */}\n          {this.error && !this.isLoading && (\n            <div class=\"step-catalogue__error\">\n              <p>{this.error}</p>\n              <button onClick={() => this.loadProducts()}>Reintentar</button>\n            </div>\n          )}\n\n          {/* Products carousel */}\n          {!this.isLoading && !this.error && this.products.length > 0 && (\n            <div class=\"step-catalogue__carousel-container\">\n              <ui-carousel\n                totalItems={this.products.length}\n                gap={24}\n                showNavigation={false}\n                showPagination={true}\n                breakpoints={[\n                  { minWidth: 0, slidesPerView: 1 },\n                  { minWidth: 600, slidesPerView: 2 },\n                  { minWidth: 900, slidesPerView: 3 },\n                ]}\n              >\n                {this.products.map((product) => this.renderProductCard(product))}\n              </ui-carousel>\n            </div>\n          )}\n\n          {/* Empty state */}\n          {!this.isLoading && !this.error && this.products.length === 0 && (\n            <div class=\"step-catalogue__empty\">\n              <p>No hay productos disponibles en este momento.</p>\n            </div>\n          )}\n\n          {/* Summary bar */}\n          {this.renderSummaryBar()}\n\n          {/* Unavailable product modal */}\n          {this.renderUnavailableModal()}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}