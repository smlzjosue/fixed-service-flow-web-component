{"file":"p-BYqHZtCN.js","mappings":"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","names":["__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/steps/step-payment/step-payment.scss?tag=step-payment&encapsulation=shadow","src/components/steps/step-payment/step-payment.tsx"],"sourcesContent":["// ============================================\n// STEP PAYMENT - SCSS Styles\n// Fixed Service Flow Web Component\n// Design based on TEL payment-web.component\n// ============================================\n\n@import '../../../global/variables';\n\n// ------------------------------------------\n// LOCAL ALIASES\n// ------------------------------------------\n\n$primary-color: $color-primary;\n$secondary-color: $color-secondary;\n$error-color: $color-error;\n$success-color: $color-success;\n$gray-50: $color-gray-50;\n$gray-100: $color-gray-100;\n$gray-200: $color-gray-200;\n$gray-300: $color-gray-300;\n$gray-400: $color-gray-400;\n$gray-500: $color-gray-500;\n$gray-600: $color-gray-600;\n$gray-700: $color-gray-700;\n$gray-900: $color-gray-900;\n$radius-sm: $border-radius-sm;\n$radius-md: $border-radius-md;\n$radius-lg: $border-radius-lg;\n$radius-full: $border-radius-full;\n$spacing-xs: $spacing-1;\n$spacing-sm: $spacing-2;\n$spacing-md: $spacing-4;\n$spacing-lg: $spacing-6;\n$spacing-xl: $spacing-8;\n\n// ------------------------------------------\n// HOST\n// ------------------------------------------\n\n:host {\n  display: block;\n  width: 100%;\n  min-height: 100%;\n  background-color: $gray-50;\n}\n\n// ------------------------------------------\n// MAIN CONTAINER\n// ------------------------------------------\n\n.step-payment {\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n  padding: $spacing-lg;\n  min-height: 100vh;\n}\n\n// ------------------------------------------\n// HEADER\n// ------------------------------------------\n\n.header {\n  display: flex;\n  align-items: center;\n  gap: $spacing-md;\n  margin-bottom: $spacing-lg;\n  flex-wrap: wrap;\n\n  .btn-back-nav {\n    display: flex;\n    align-items: center;\n    gap: $spacing-xs;\n    background: none;\n    border: none;\n    color: $secondary-color;\n    font-size: $font-size-sm;\n    cursor: pointer;\n    padding: $spacing-xs;\n\n    svg {\n      width: 20px;\n      height: 20px;\n    }\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .title {\n    font-size: $font-size-2xl;\n    font-weight: 700;\n    color: $gray-900;\n    margin: 0;\n    flex: 1;\n  }\n}\n\n// ------------------------------------------\n// CONTENT\n// ------------------------------------------\n\n.content {\n  background: white;\n  border-radius: $radius-lg;\n  padding: $spacing-lg;\n  box-shadow: $shadow-md;\n  min-height: 400px;\n}\n\n// ------------------------------------------\n// LOADING STATES\n// ------------------------------------------\n\n.loading-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 300px;\n  text-align: center;\n  padding: $spacing-xl;\n\n  h3 {\n    font-size: $font-size-xl;\n    color: $gray-900;\n    margin: $spacing-md 0 $spacing-sm 0;\n  }\n\n  p {\n    color: $gray-600;\n    margin: 0 0 $spacing-sm 0;\n  }\n\n  .warning {\n    color: $error-color;\n    font-weight: 500;\n    font-size: $font-size-sm;\n  }\n}\n\n.spinner {\n  width: 48px;\n  height: 48px;\n  border: 4px solid $gray-200;\n  border-top-color: $primary-color;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n// ------------------------------------------\n// PAYMENT CONTAINER\n// ------------------------------------------\n\n.payment-container {\n  display: flex;\n  flex-direction: column;\n  gap: $spacing-lg;\n}\n\n.payment-summary {\n  background: $gray-50;\n  border-radius: $radius-md;\n  padding: $spacing-md;\n\n  h3 {\n    font-size: $font-size-base;\n    font-weight: 600;\n    color: $gray-900;\n    margin: 0 0 $spacing-md 0;\n  }\n}\n\n.amount-display {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: $spacing-sm 0;\n  border-bottom: 1px solid $gray-200;\n\n  .label {\n    font-size: $font-size-base;\n    color: $gray-600;\n  }\n\n  .value {\n    font-size: $font-size-xl;\n    font-weight: 700;\n    color: $primary-color;\n  }\n}\n\n.payment-items {\n  margin-top: $spacing-md;\n\n  .payment-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: $spacing-xs 0;\n    font-size: $font-size-sm;\n\n    .item-type {\n      color: $gray-600;\n    }\n\n    .item-amount {\n      color: $gray-900;\n      font-weight: 500;\n    }\n  }\n}\n\n// ------------------------------------------\n// IFRAME CONTAINER\n// ------------------------------------------\n\n.iframe-container {\n  border: 1px solid $gray-200;\n  border-radius: $radius-md;\n  overflow: hidden;\n  min-height: 400px;\n\n  iframe {\n    display: block;\n    border: none;\n    width: 100%;\n  }\n}\n\n.iframe-placeholder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 300px;\n  background: $gray-50;\n\n  p {\n    color: $gray-600;\n    margin-top: $spacing-md;\n  }\n}\n\n// ------------------------------------------\n// SUCCESS CONTAINER\n// ------------------------------------------\n\n.success-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 300px;\n  text-align: center;\n  padding: $spacing-xl;\n\n  .success-icon {\n    width: 80px;\n    height: 80px;\n    background: lighten($success-color, 40%);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: $spacing-md;\n\n    svg {\n      width: 48px;\n      height: 48px;\n      color: $success-color;\n    }\n  }\n\n  h3 {\n    font-size: $font-size-xl;\n    color: $success-color;\n    margin: 0 0 $spacing-sm 0;\n  }\n\n  p {\n    color: $gray-600;\n    margin: 0 0 $spacing-sm 0;\n  }\n\n  .redirect-note {\n    font-size: $font-size-sm;\n    color: $gray-500;\n  }\n}\n\n// ------------------------------------------\n// ERROR CONTAINER\n// ------------------------------------------\n\n.error-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 300px;\n  text-align: center;\n  padding: $spacing-xl;\n\n  .error-icon {\n    width: 80px;\n    height: 80px;\n    background: lighten($error-color, 35%);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: $spacing-md;\n\n    svg {\n      width: 48px;\n      height: 48px;\n      color: $error-color;\n    }\n  }\n\n  h3 {\n    font-size: $font-size-xl;\n    color: $error-color;\n    margin: 0 0 $spacing-sm 0;\n  }\n\n  p {\n    color: $gray-600;\n    margin: 0 0 $spacing-lg 0;\n    max-width: 400px;\n  }\n}\n\n.error-actions {\n  display: flex;\n  gap: $spacing-md;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n// ------------------------------------------\n// BUTTONS\n// ------------------------------------------\n\n.btn-retry {\n  height: 44px;\n  padding: 0 $spacing-lg;\n  background: $primary-color;\n  color: white;\n  border: none;\n  border-radius: $radius-full;\n  font-size: $font-size-base;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background 0.2s;\n\n  &:hover {\n    background: darken($primary-color, 10%);\n  }\n}\n\n.btn-back {\n  height: 44px;\n  padding: 0 $spacing-lg;\n  background: white;\n  color: $gray-700;\n  border: 1px solid $gray-300;\n  border-radius: $radius-full;\n  font-size: $font-size-base;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background: $gray-50;\n    border-color: $gray-400;\n  }\n}\n\n.btn-cancel {\n  align-self: center;\n  height: 44px;\n  padding: 0 $spacing-lg;\n  background: white;\n  color: $gray-600;\n  border: 1px solid $gray-300;\n  border-radius: $radius-full;\n  font-size: $font-size-sm;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background: $gray-50;\n    border-color: $gray-400;\n  }\n}\n","// ============================================\n// STEP PAYMENT - Payment Processing\n// Fixed Service Flow Web Component\n// Design based on TEL payment-web.component\n// ============================================\n\nimport { Component, Prop, State, h, Host, Element } from '@stencil/core';\nimport { paymentService, PaymentItem, PaymentResult } from '../../../services/payment.service';\nimport { cartService } from '../../../services/cart.service';\nimport { shippingService } from '../../../services/shipping.service';\nimport { CartResponse } from '../../../store/interfaces';\n\ntype PaymentScreen = 'loading' | 'creating-order' | 'payment' | 'processing' | 'error' | 'success';\n\n@Component({\n  tag: 'step-payment',\n  styleUrl: 'step-payment.scss',\n  shadow: true,\n})\nexport class StepPayment {\n  @Element() el: HTMLElement;\n\n  // ------------------------------------------\n  // PROPS\n  // ------------------------------------------\n\n  @Prop() onNext: () => void;\n  @Prop() onBack: () => void;\n\n  // Optional: External payment iframe URL\n  @Prop() paymentIframeUrl?: string;\n\n  // ------------------------------------------\n  // STATE\n  // ------------------------------------------\n\n  @State() screen: PaymentScreen = 'loading';\n  @State() error: string | null = null;\n  @State() cart: CartResponse | null = null;\n  @State() orderBan: string = '';\n  @State() totalAmount: number = 0;\n  @State() paymentItems: PaymentItem[] = [];\n  @State() iframeUrl: string = '';\n  @State() iframeHeight: string = '500px';\n  @State() paymentResult: PaymentResult | null = null;\n\n  // User info for payment\n  private userName: string = '';\n  private userLastName: string = '';\n  private userEmail: string = '';\n\n  // ------------------------------------------\n  // LIFECYCLE\n  // ------------------------------------------\n\n  componentWillLoad() {\n    this.loadCartAndPreparePayment();\n  }\n\n  componentDidLoad() {\n    // Listen for payment iframe messages\n    window.addEventListener('message', this.handleIframeMessage);\n  }\n\n  disconnectedCallback() {\n    window.removeEventListener('message', this.handleIframeMessage);\n  }\n\n  // ------------------------------------------\n  // METHODS\n  // ------------------------------------------\n\n  private async loadCartAndPreparePayment() {\n    this.screen = 'loading';\n    this.error = null;\n\n    try {\n      // Get cart data\n      const cartResponse = await cartService.getCart();\n\n      if (cartResponse.hasError) {\n        this.error = cartResponse.message || 'Error al cargar el carrito';\n        this.screen = 'error';\n        return;\n      }\n\n      if (!cartResponse.products || cartResponse.products.length === 0) {\n        this.error = 'El carrito está vacío';\n        this.screen = 'error';\n        return;\n      }\n\n      this.cart = cartResponse;\n\n      // Build payment items\n      this.paymentItems = paymentService.buildPaymentItems({\n        depositAmount: cartResponse.depositAmount,\n        totalDownPayment: cartResponse.totalDownPayment,\n        totalTax: cartResponse.totalTax,\n        totalPrice: cartResponse.totalPrice,\n        installmentAmount: cartResponse.installmentAmount,\n        cartUpdateResponse: cartResponse.cartUpdateResponse,\n      });\n\n      // Calculate total\n      this.totalAmount = this.paymentItems.length > 0\n        ? paymentService.calculateTotalAmount(this.paymentItems)\n        : cartResponse.totalPrice || 0;\n\n      // Get user info from shipping\n      const shippingAddress = shippingService.getStoredShippingAddress();\n      if (shippingAddress) {\n        const nameParts = shippingAddress.name.split(' ');\n        this.userName = nameParts[0] || '';\n        this.userLastName = nameParts.slice(1).join(' ') || '';\n        this.userEmail = shippingAddress.email;\n      }\n\n      // Create the order\n      await this.createOrder();\n\n    } catch (err) {\n      console.error('[StepPayment] Error:', err);\n      this.error = 'Error de conexión';\n      this.screen = 'error';\n    }\n  }\n\n  private async createOrder() {\n    this.screen = 'creating-order';\n\n    try {\n      const zipCode = shippingService.getZipCode();\n\n      const response = await paymentService.createOrder({\n        flowId: '5', // CLARO HOGAR flow\n        frontFlowId: '1',\n        frontFlowName: 'CLARO HOGAR Purchase',\n        amount: this.totalAmount.toString(),\n        email: this.userEmail,\n        zipCode: zipCode,\n        deposit: (this.cart?.totalDownPayment || 0).toString(),\n      });\n\n      if (response.hasError) {\n        this.error = response.errorDisplay || response.message || 'Error al crear la orden';\n        this.screen = 'error';\n        return;\n      }\n\n      this.orderBan = response.ban || '';\n\n      // Now get the payment iframe\n      await this.initializePaymentIframe();\n\n    } catch (err) {\n      console.error('[StepPayment] Create order error:', err);\n      this.error = 'Error al crear la orden';\n      this.screen = 'error';\n    }\n  }\n\n  private async initializePaymentIframe() {\n    if (this.totalAmount <= 0) {\n      // Free purchase - no payment needed\n      await this.handleFreePayment();\n      return;\n    }\n\n    try {\n      const iframeRequest = {\n        firstName: this.userName,\n        lastName: this.userLastName,\n        email: this.userEmail,\n        amount: this.totalAmount,\n        transactionType: this.paymentItems.length > 0 ? 'MULTIPLE' : 'payment',\n        selectBan: this.orderBan,\n        permissions: {\n          provision: true,\n          displayConfirmation: true,\n          emailNotification: true,\n          showInstrument: true,\n          stroeInstrument: true,\n          useBanZipCode: true,\n        },\n        paymentItems: this.paymentItems.length > 0 ? this.paymentItems : undefined,\n      };\n\n      const response = await paymentService.getPaymentIframe(iframeRequest);\n\n      if (response.errorInfo?.hasError || !response.url) {\n        this.error = response.errorInfo?.errorDisplay || 'Error al inicializar el pago';\n        this.screen = 'error';\n        return;\n      }\n\n      this.iframeUrl = response.url;\n      this.screen = 'payment';\n\n    } catch (err) {\n      console.error('[StepPayment] Init iframe error:', err);\n      this.error = 'Error al inicializar el formulario de pago';\n      this.screen = 'error';\n    }\n  }\n\n  private handleIframeMessage = (event: MessageEvent) => {\n    if (typeof event.data !== 'string') return;\n\n    try {\n      const data = JSON.parse(atob(event.data));\n\n      if (data.state === 'dimensions') {\n        this.iframeHeight = data.data.height;\n      }\n\n      if (data.state === 'canceled') {\n        this.handlePaymentCancel();\n      }\n\n      if (data.state === 'paymentResult') {\n        if (data.data) {\n          const resultString = data.data;\n          const result = JSON.parse(resultString).paymentResult;\n          const paymentResult = JSON.parse(atob(result)) as PaymentResult;\n\n          if (paymentResult.success) {\n            this.handlePaymentSuccess(paymentResult);\n          } else {\n            this.handlePaymentError(paymentResult);\n          }\n        }\n      }\n    } catch {\n      // Ignore non-payment messages\n    }\n  };\n\n  private async handlePaymentSuccess(result: PaymentResult) {\n    this.screen = 'processing';\n    this.paymentResult = result;\n\n    try {\n      const recordResponse = await paymentService.recordPayment({\n        ban: this.orderBan,\n        cardNumber: result.paymentCard || '',\n        cardType: result.paymentMethod || '',\n        authorizationNumber: result.authorizationNumber || '',\n        referenceNumber: result.provisioning?.referenceNumber || '',\n        description: result.description || '',\n        operationId: result.operationId || '',\n        amount: this.totalAmount.toString(),\n        deposit: (this.cart?.totalDownPayment || 0).toString(),\n      });\n\n      if (recordResponse.hasError) {\n        this.error = recordResponse.errorDisplay || 'Error al registrar el pago';\n        this.screen = 'error';\n        return;\n      }\n\n      // Store payment result and proceed\n      paymentService.storePaymentResult(result);\n      this.screen = 'success';\n\n      // Auto-proceed after short delay\n      setTimeout(() => {\n        this.onNext?.();\n      }, 2000);\n\n    } catch (err) {\n      console.error('[StepPayment] Record payment error:', err);\n      this.error = 'Error al registrar el pago';\n      this.screen = 'error';\n    }\n  }\n\n  private async handlePaymentError(result: PaymentResult) {\n    await paymentService.recordPaymentError(\n      this.orderBan,\n      '',\n      result.description || 'Payment failed',\n      result.operationId || '',\n      (this.cart?.totalDownPayment || 0).toString(),\n      result.paymentMethod || '',\n      result.paymentCard || '',\n      this.totalAmount.toString()\n    );\n\n    this.error = result.description || 'El pago no pudo ser procesado';\n    this.screen = 'error';\n  }\n\n  private handlePaymentCancel() {\n    this.onBack?.();\n  }\n\n  private async handleFreePayment() {\n    this.screen = 'processing';\n\n    try {\n      const operationId = Math.floor(Math.random() * 900000 + 100000).toString();\n\n      const recordResponse = await paymentService.recordPayment({\n        ban: this.orderBan,\n        cardNumber: '1111',\n        cardType: 'V',\n        authorizationNumber: 'FREEPR',\n        referenceNumber: 'FREEPROMO',\n        description: 'Free promotion',\n        operationId: operationId,\n        amount: '0',\n        deposit: '0',\n      });\n\n      if (recordResponse.hasError) {\n        this.error = recordResponse.errorDisplay || 'Error al procesar';\n        this.screen = 'error';\n        return;\n      }\n\n      this.screen = 'success';\n      setTimeout(() => {\n        this.onNext?.();\n      }, 2000);\n\n    } catch (err) {\n      console.error('[StepPayment] Free payment error:', err);\n      this.error = 'Error al procesar';\n      this.screen = 'error';\n    }\n  }\n\n  private handleRetry = () => {\n    this.loadCartAndPreparePayment();\n  };\n\n  private formatPrice(price: number): string {\n    return `$${(price || 0).toFixed(2)}`;\n  }\n\n  // ------------------------------------------\n  // RENDER\n  // ------------------------------------------\n\n  private renderLoading() {\n    return (\n      <div class=\"loading-container\">\n        <div class=\"spinner\"></div>\n        <p>Cargando información del pago...</p>\n      </div>\n    );\n  }\n\n  private renderCreatingOrder() {\n    return (\n      <div class=\"loading-container\">\n        <div class=\"spinner\"></div>\n        <h3>Preparando tu orden</h3>\n        <p>Por favor espera mientras procesamos tu solicitud...</p>\n        <p class=\"warning\">No cierres esta ventana ni navegues a otra página.</p>\n      </div>\n    );\n  }\n\n  private renderPaymentForm() {\n    return (\n      <div class=\"payment-container\">\n        <div class=\"payment-summary\">\n          <h3>Resumen del pago</h3>\n          <div class=\"amount-display\">\n            <span class=\"label\">Total a pagar:</span>\n            <span class=\"value\">{this.formatPrice(this.totalAmount)}</span>\n          </div>\n          {this.paymentItems.length > 0 && (\n            <div class=\"payment-items\">\n              {this.paymentItems.map((item) => (\n                <div class=\"payment-item\">\n                  <span class=\"item-type\">{this.getPaymentTypeLabel(item.paymentType)}</span>\n                  <span class=\"item-amount\">{this.formatPrice(item.amount)}</span>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <div class=\"iframe-container\">\n          {this.iframeUrl ? (\n            <iframe\n              src={this.iframeUrl}\n              width=\"100%\"\n              height={this.iframeHeight}\n              frameBorder=\"0\"\n              title=\"Payment Form\"\n            ></iframe>\n          ) : (\n            <div class=\"iframe-placeholder\">\n              <div class=\"spinner\"></div>\n              <p>Cargando formulario de pago...</p>\n            </div>\n          )}\n        </div>\n\n        <button class=\"btn-cancel\" onClick={() => this.handlePaymentCancel()}>\n          Cancelar\n        </button>\n      </div>\n    );\n  }\n\n  private renderProcessing() {\n    return (\n      <div class=\"loading-container\">\n        <div class=\"spinner\"></div>\n        <h3>Procesando pago</h3>\n        <p>Por favor espera mientras confirmamos tu pago...</p>\n      </div>\n    );\n  }\n\n  private renderSuccess() {\n    return (\n      <div class=\"success-container\">\n        <div class=\"success-icon\">\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n            <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"></path>\n            <polyline points=\"22 4 12 14.01 9 11.01\"></polyline>\n          </svg>\n        </div>\n        <h3>Pago exitoso</h3>\n        <p>Tu pago ha sido procesado correctamente.</p>\n        <p class=\"redirect-note\">Redirigiendo a la confirmación...</p>\n      </div>\n    );\n  }\n\n  private renderError() {\n    return (\n      <div class=\"error-container\">\n        <div class=\"error-icon\">\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n            <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line>\n            <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line>\n          </svg>\n        </div>\n        <h3>Error en el pago</h3>\n        <p>{this.error}</p>\n        <div class=\"error-actions\">\n          <button class=\"btn-retry\" onClick={this.handleRetry}>\n            Intentar nuevamente\n          </button>\n          <button class=\"btn-back\" onClick={() => this.onBack?.()}>\n            Volver\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  private getPaymentTypeLabel(type: string): string {\n    const labels: Record<string, string> = {\n      DEPOSIT: 'Depósito',\n      DOWNPAYMENT: 'Pago inicial',\n      TAXES: 'Impuestos',\n      INSTALLMENT: 'Cuotas',\n      PASTDUEONLY: 'Balance pendiente',\n    };\n    return labels[type] || type;\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"step-payment\">\n          {/* Header */}\n          <div class=\"header\">\n            {this.screen !== 'processing' && this.screen !== 'success' && (\n              <button class=\"btn-back-nav\" onClick={() => this.onBack?.()}>\n                <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                  <path d=\"M19 12H5M12 19l-7-7 7-7\"></path>\n                </svg>\n                Regresar\n              </button>\n            )}\n            <h1 class=\"title\">Pago</h1>\n          </div>\n\n          {/* Content based on screen */}\n          <div class=\"content\">\n            {this.screen === 'loading' && this.renderLoading()}\n            {this.screen === 'creating-order' && this.renderCreatingOrder()}\n            {this.screen === 'payment' && this.renderPaymentForm()}\n            {this.screen === 'processing' && this.renderProcessing()}\n            {this.screen === 'success' && this.renderSuccess()}\n            {this.screen === 'error' && this.renderError()}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}