{"file":"p-Ci1a0P5z.js","mappings":"AAAA;AACA;AACA;AACA;AAyVA;AACA;AACA;AAEA;;;AAGG;AAGH;;;;;;;;;AASG;AACU,MAAA,gBAAgB,GAAmB;AAC9C,IAAA;AACE,QAAA,MAAM,EAAE,CAAC;AACT,QAAA,IAAI,EAAE,cAAc;AACpB,QAAA,QAAQ,EAAE;AACR,YAAA;AACE,gBAAA,UAAU,EAAE,CAAC;AACb,gBAAA,SAAS,EAAE,EAAE;AACb,gBAAA,YAAY,EAAE,EAAE;AAChB,gBAAA,UAAU,EAAE,CAAC;AACb,gBAAA,KAAK,EAAE,CAAC;AACT,aAAA;AACD,YAAA;AACE,gBAAA,UAAU,EAAE,CAAC;AACb,gBAAA,SAAS,EAAE,EAAE;AACb,gBAAA,YAAY,EAAE,CAAC;AACf,gBAAA,UAAU,EAAE,CAAC;AACb,gBAAA,KAAK,EAAE,CAAC;AACT,aAAA;AACF,SAAA;AACF,KAAA;AACD,IAAA;AACE,QAAA,MAAM,EAAE,CAAC;AACT,QAAA,IAAI,EAAE,cAAc;AACpB,QAAA,QAAQ,EAAE;AACR,YAAA;AACE,gBAAA,UAAU,EAAE,CAAC;AACb,gBAAA,SAAS,EAAE,CAAC;AACZ,gBAAA,YAAY,EAAE,GAAG;AACjB,gBAAA,UAAU,EAAE,CAAC;AACb,gBAAA,KAAK,EAAE,CAAC;AACT,aAAA;AACF,SAAA;AACF,KAAA;;AAGU,MAAA,gBAAgB,GAA2B;AACtD,IAGA,WAAW,EAAE,sEAAsE;;;;;","names":[],"sources":["src/store/interfaces.ts"],"sourcesContent":["// ============================================\n// TYPESCRIPT INTERFACES\n// Fixed Service Flow Web Component\n// ============================================\n\n// ------------------------------------------\n// API RESPONSE INTERFACES\n// ------------------------------------------\n\nexport interface ApiResponse<T = unknown> {\n  hasError: boolean;\n  message?: string;\n  errorDisplay?: string;\n  errorDesc?: string;\n  errorNum?: number;\n  errorSubject?: string;\n  data?: T;\n}\n\nexport interface TokenResponse {\n  token: string;\n  correlationId: string;\n  hasError: boolean;\n  message?: string;\n}\n\nexport interface CoverageResponse {\n  priorityService: string; // 'GPON' | 'VRAD' | 'CLARO HOGAR'\n  attributes: ServiceAttribute[];\n  hasError: boolean;\n  errorDisplay?: string;\n  errorDesc?: string;\n  errorNum?: number;\n  message?: string;\n}\n\nexport interface ServiceAttribute {\n  servicE_ID: number;\n  servicE_NAME: string; // 'GPON' | 'VRAD' | 'CLARO HOGAR'\n  servicE_MESSAGE: string;\n  servicE_PRIORITY: number;\n  servicE_DEFAULT: string; // 'Y' | 'N'\n  polygoN_URL?: string;\n  polygoN_TYPE?: number;\n  polygoN_SHAPE?: string;\n  createD_BY?: string;\n  creatioN_DATE?: string;\n  updateD_BY?: string;\n  updateD_DATE?: string;\n  expiratioN_DATE?: string | null;\n}\n\nexport interface PlansResponse {\n  planList: Plan[];\n  hasError: boolean;\n  message?: string;\n}\n\nexport interface Plan {\n  planId: number;\n  planName: string;\n  planSoc: string;\n  planDesc?: string;\n  decPrice: number;\n  decSalePrice?: number;\n  bitPromotion: boolean;\n  features?: string[];\n  suggestedPlan?: boolean; // Added for carousel - marks recommended plan\n  broadband?: boolean; // For banda ancha (fixed internet)\n}\n\nexport interface RequestResponse {\n  hasError: boolean;\n  orderId?: string;\n  message?: string;\n  errorDisplay?: string;\n  errorDesc?: string;\n  errorNum?: number;\n}\n\nexport interface OrderDetailsResponse {\n  hasError: boolean;\n  orderId?: string;\n  orderNumber?: string;\n  status?: string;\n  createdAt?: string;\n  customer?: {\n    name: string;\n    email: string;\n    phone: string;\n  };\n  plan?: {\n    planId: number;\n    planName: string;\n    price: number;\n  };\n  message?: string;\n  errorDisplay?: string;\n  errorDesc?: string;\n  errorNum?: number;\n}\n\nexport interface ConfirmationResponse {\n  hasError: boolean;\n  sent: boolean;\n  message?: string;\n  errorDisplay?: string;\n  errorDesc?: string;\n  errorNum?: number;\n}\n\n// ------------------------------------------\n// CATALOGUE INTERFACES (CLARO HOGAR)\n// ------------------------------------------\n\nexport interface CatalogueResponse {\n  hasError: boolean;\n  message?: string;\n  errorDisplay?: string;\n  errorDesc?: string;\n  errorNum?: number;\n  products?: CatalogueProduct[];\n  totalItems?: number;\n  totalPages?: number;\n  currentPage?: number;\n}\n\nexport interface CatalogueProduct {\n  productId: number;\n  productName: string;\n  imgUrl: string;\n  update_price: number; // Monthly installment price\n  regular_price: number; // Full price\n  installments: number; // Number of installments (e.g., 36)\n  shortDescription?: string;\n  colors?: ProductColor[];\n  offer?: ProductOffer | null;\n  offerData?: ProductOfferData | null;\n  promoImg?: string;\n  checkCompare?: boolean; // For compare checkbox state\n}\n\nexport interface ProductColor {\n  webColor: string;\n}\n\nexport interface ProductOffer {\n  nameDesingn: string; // 'normal' | 'cyberweek'\n}\n\nexport interface ProductOfferData {\n  installmentOffer: number;\n}\n\nexport interface CatalogueFilter {\n  value: string;\n  label: string;\n}\n\n// ------------------------------------------\n// LOCATION DATA\n// ------------------------------------------\n\nexport interface LocationData {\n  latitude: number;\n  longitude: number;\n  address: string;\n  city: string;\n  zipCode: string;\n  serviceType: string; // 'GPON' | 'VRAD' | 'CLARO HOGAR'\n  serviceMessage: string;\n  isValid: boolean;\n}\n\n// ------------------------------------------\n// CONTRACT TYPES\n// ------------------------------------------\n\nexport type ContractTypeId = 0 | 1; // 0 = Sin contrato, 1 = Con contrato\n\nexport interface ContractOption {\n  contractId: number;\n  deadlines: number; // 0, 12, or 24 months\n  installation: number;\n  activation: number;\n  modem: number;\n}\n\nexport interface ContractType {\n  typeId: ContractTypeId;\n  type: string; // 'Con Contrato' | 'Sin Contrato'\n  contract: ContractOption[];\n}\n\nexport interface SelectedContract {\n  typeId: ContractTypeId;\n  typeName: string;\n  deadlines: number;\n  installation: number;\n  activation: number;\n  modem: number;\n}\n\n// ------------------------------------------\n// FORM DATA\n// ------------------------------------------\n\nexport type IdentificationType = 'license' | 'passport';\n\nexport interface PersonalData {\n  firstName: string;\n  secondName?: string;\n  lastName: string;\n  secondLastName: string;\n  identificationType: IdentificationType;\n  identificationNumber: string;\n  identificationExpiration: string;\n  phone1: string;\n  phone2?: string;\n  email: string;\n  birthDate?: string; // Opcional - requerido por backend pero no siempre recolectado en flujo empresarial\n}\n\nexport interface BusinessData {\n  businessName: string;\n  position: string;\n}\n\nexport interface AddressData {\n  address: string;\n  city: string;\n  zipCode: string;\n}\n\nexport interface FormData {\n  personal: PersonalData;\n  business: BusinessData;\n  address: AddressData;\n  isExistingCustomer: boolean;\n}\n\n// ------------------------------------------\n// REQUEST PAYLOAD\n// ------------------------------------------\n\nexport interface ServiceRequestPayload {\n  type: ContractTypeId;\n  name: string;\n  second_name: string;\n  last_name: string;\n  second_surname: string;\n  date_birth: string;\n  email: string;\n  telephone1: string;\n  telephone2: string;\n  zipCode: string;\n  address: string;\n  city: string;\n  id_type: string; // '1' = License, '2' = Passport\n  id: string;\n  identification_expiration: string;\n  frontFlowId: string;\n  plan_id: string;\n  plan_name: string;\n  deadlines: string;\n  installation: string;\n  activation: string;\n  moden: string;\n  claro_customer: boolean; // Backend espera booleano\n  latitud: string;\n  longitud: string;\n  business_name?: string;\n  business_position?: string;\n}\n\n// ------------------------------------------\n// FLOW STATE\n// ------------------------------------------\n\n// Standard flow: 1-5, CLARO HOGAR flow: 1-8\nexport type FlowStep = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8;\n\nexport interface FlowState {\n  // Navigation\n  currentStep: FlowStep;\n\n  // Authentication\n  token: string | null;\n  correlationId: string | null;\n\n  // Step 1: Location\n  location: LocationData | null;\n\n  // Step 2: Plans\n  availablePlans: Plan[];\n  selectedPlan: Plan | null;\n\n  // Step 3: Contract\n  selectedContract: SelectedContract | null;\n\n  // Step 4: Form\n  formData: FormData | null;\n\n  // Step 5: Confirmation\n  orderId: string | null;\n  requestError: string | null;\n\n  // UI State\n  isLoading: boolean;\n  error: string | null;\n}\n\n// ------------------------------------------\n// COMPONENT PROPS\n// ------------------------------------------\n\nexport interface FlowConfig {\n  apiUrl: string;\n  googleMapsKey: string;\n  correlationId?: string;\n  initialStep?: FlowStep;\n  debug?: boolean;\n}\n\n// ------------------------------------------\n// EVENT PAYLOADS\n// ------------------------------------------\n\nexport interface FlowCompleteEvent {\n  orderId: string;\n  plan: Plan;\n  contract: SelectedContract;\n  customer: FormData;\n  location: LocationData;\n}\n\nexport interface FlowErrorEvent {\n  step: FlowStep;\n  error: Error | string;\n  recoverable: boolean;\n}\n\nexport interface StepChangeEvent {\n  from: FlowStep;\n  to: FlowStep;\n  direction: 'forward' | 'backward';\n}\n\n// ------------------------------------------\n// CONSTANTS\n// ------------------------------------------\n\n/**\n * Valor base del modem (usado en cálculos de Sin Contrato)\n * Fuente: TEL/frondend/src/app/shared/const/appConst.ts\n */\nexport const VALUE_MODEM = 40;\n\n/**\n * Opciones de contrato para servicio de internet fijo\n *\n * CON CONTRATO:\n * - 12 meses: Instalación $80.00\n * - 24 meses: Instalación $0.00 (sin costo)\n *\n * SIN CONTRATO:\n * - Instalación $160.00\n */\nexport const CONTRACT_OPTIONS: ContractType[] = [\n  {\n    typeId: 1,\n    type: 'Con Contrato',\n    contract: [\n      {\n        contractId: 2,\n        deadlines: 12,\n        installation: 80,\n        activation: 0,\n        modem: 0,\n      },\n      {\n        contractId: 3,\n        deadlines: 24,\n        installation: 0,\n        activation: 0,\n        modem: 0,\n      },\n    ],\n  },\n  {\n    typeId: 0,\n    type: 'Sin Contrato',\n    contract: [\n      {\n        contractId: 1,\n        deadlines: 0,\n        installation: 160,\n        activation: 0,\n        modem: 0,\n      },\n    ],\n  },\n];\n\nexport const SERVICE_MESSAGES: Record<string, string> = {\n  GPON: 'Tenemos fibra óptica en tu área y podrás navegar con velocidades de hasta 1,000 megas.',\n  VRAD: 'Tenemos servicio de internet DSL disponible en tu área.',\n  'CLARO HOGAR': 'Tenemos un poderoso servicio de internet inalámbrico en tu área que tú mismo instalas.',\n  NO_COVERAGE: '¡Fuera de área! Por el momento no contamos con cobertura en tu zona.',\n};\n\n// ------------------------------------------\n// PRODUCT DETAIL INTERFACES (CLARO HOGAR)\n// ------------------------------------------\n\nexport interface ProductDetailResponse {\n  hasError: boolean;\n  message?: string;\n  errorDisplay?: string;\n  product?: ProductDetail;\n}\n\nexport interface ProductDetail {\n  productId: number;\n  productName: string;\n  brandName?: string;\n  imgUrl: string;\n  detailImage?: string;\n  images?: string[]; // Array of product images for carousel\n  shortDescription?: string;\n  longDescription?: string;\n  regular_price: number;\n  update_price: number;\n  installments: number;\n  decDownPayment?: number;\n  decDeposit?: number;\n  creditClass?: string;\n  colors?: ProductColorDetail[];\n  storages?: ProductStorage[];\n  specifications?: ProductSpecification[];\n  features?: string[];\n  catalogId?: number;\n  home?: boolean; // Flag for CLARO HOGAR products\n  stock?: number; // Stock quantity for availability check\n}\n\nexport interface ProductColorDetail {\n  colorId: number;\n  colorName: string;\n  webColor: string;\n  imgUrl?: string;\n  available?: boolean;\n}\n\nexport interface ProductStorage {\n  storageId: number;\n  storageName: string;\n  storageValue: string;\n  priceDiff?: number;\n  available?: boolean;\n}\n\nexport interface ProductSpecification {\n  name: string;\n  value: string;\n  category?: string;\n}\n\n// ------------------------------------------\n// CART INTERFACES\n// ------------------------------------------\n\nexport interface CartResponse {\n  hasError: boolean;\n  message?: string;\n  errorDisplay?: string;\n  products?: CartItem[];\n  subTotalPrice?: number;\n  subTotalPerMonth?: number;\n  totalPrice?: number;\n  depositAmount?: number;\n  totalDownPayment?: number;\n  totalTax?: number;\n  installmentAmount?: number;\n  cartUpdateResponse?: CartUpdateResponse;\n}\n\nexport interface CartItem {\n  cartId: number;\n  productId: number;\n  parentProductId?: number;\n  parentCartId?: number;\n  productName: string;\n  qty: number;\n  decPrice: number;\n  decTotalPerMonth?: number;\n  decTotalPrice?: number;\n  installments: number;\n  plan?: boolean;\n  catalogId?: number;\n  equipment?: boolean;\n  accesory?: boolean;\n  home?: boolean;\n  internet?: boolean;\n  storage?: string;\n  storageName?: string;\n  webColor?: string;\n  colorName?: string;\n  brand?: string;\n  detailImage?: string;\n  imgUrl?: string;\n  color?: string;\n  stock?: string;\n  catalogName?: string;\n}\n\nexport interface CartUpdateResponse {\n  decCurrentPlanPrice?: number;\n  locationId?: string;\n  invoiceNumber?: string;\n  pendingAccelerated?: number;\n  acceletartedAmount?: number;\n}\n\nexport interface AddToCartRequest {\n  token: string;\n  productId: number;\n  notificationDetailID?: number;\n  chvSource?: string;\n  promoCode?: string;\n  installments: number;\n  decPrice: number;\n  decDeposit?: number;\n  decDownPayment?: number;\n  decTotalPrice: number;\n  Qty: number;\n  flowId?: number;\n  ssoToken?: string;\n  userID?: string;\n  parentProductId?: number;\n  parentCartId?: number;\n  creditClass?: string;\n  downgradeAllowed?: boolean;\n  pendingAccelerated?: number;\n  acceletartedAmount?: number;\n  pastDueAmount?: number;\n  delicuency?: boolean;\n}\n\nexport interface AddToCartResponse {\n  code: number; // mainId returned\n  hasError: boolean;\n  message?: string;\n  errorDisplay?: string;\n}\n\nexport interface DeleteCartItemRequest {\n  cartId: number;\n  productId: number;\n}\n\n// ------------------------------------------\n// SHIPPING INTERFACES\n// ------------------------------------------\n\nexport interface ShippingAddressRequest {\n  firstName: string;\n  lastName: string;\n  address1: string;\n  address2?: string;\n  city: string;\n  state?: string;\n  zipCode: string;\n  country?: string;\n  phone: string;\n  email?: string;\n  instructions?: string;\n}\n\nexport interface ShippingAddressResponse {\n  hasError: boolean;\n  message?: string;\n  errorDisplay?: string;\n  shipmentId?: number;\n}\n\nexport interface DeliveryMethod {\n  id: number;\n  name: string;\n  description?: string;\n  cost: number;\n  estimatedDays?: number;\n  available?: boolean;\n}\n\nexport interface DeliveryMethodsResponse {\n  hasError: boolean;\n  message?: string;\n  deliveryMethods?: DeliveryMethod[];\n}\n\n// ------------------------------------------\n// ORDER INTERFACES\n// ------------------------------------------\n\nexport interface OrderCreateRequest {\n  flowId?: number;\n  frontFlowId?: string;\n  zipCode: string;\n  shipmentId?: number;\n  deliveryMethodId?: number;\n  customerInfo?: CustomerInfo;\n  paymentType?: string;\n}\n\nexport interface CustomerInfo {\n  firstName: string;\n  lastName: string;\n  email: string;\n  phone: string;\n  identificationType: string;\n  identificationNumber: string;\n}\n\nexport interface OrderCreateResponse {\n  hasError: boolean;\n  message?: string;\n  errorDisplay?: string;\n  code?: string; // Order ID\n  orderId?: string;\n  bitPayment?: boolean;\n  bitPortability?: boolean;\n  bitAuthenticated?: boolean;\n  bitAddressValidate?: boolean;\n  bitEquifaxValidate?: boolean;\n}\n\nexport interface OrderSummary {\n  orderId: string;\n  orderNumber?: string;\n  status: string;\n  createdAt: string;\n  products: CartItem[];\n  plan?: Plan;\n  subtotal: number;\n  tax: number;\n  shipping: number;\n  total: number;\n  customer: CustomerInfo;\n  shippingAddress?: ShippingAddressRequest;\n  deliveryMethod?: DeliveryMethod;\n}\n\n// ------------------------------------------\n// PAYMENT INTERFACES\n// ------------------------------------------\n\nexport interface PaymentIframeRequest {\n  ssoToken?: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  amount: number;\n  transactionType: string; // 'payment' | 'MULTIPLE'\n  selectBan?: string;\n  currentSubscriber?: string;\n  permissions?: PaymentPermissions;\n  installments?: PaymentInstallments;\n  paymentItems?: PaymentItem[];\n}\n\nexport interface PaymentPermissions {\n  provision?: boolean;\n  displayConfirmation?: boolean;\n  emailNotification?: boolean;\n  showInstrument?: boolean;\n  storeInstrument?: boolean;\n  useBanZipCode?: boolean;\n}\n\nexport interface PaymentInstallments {\n  locationId?: string;\n  invoiceNumber?: string;\n  installmentCount: number;\n}\n\nexport interface PaymentItem {\n  type: 'INSTALLMENT' | 'DEPOSIT' | 'DOWNPAYMENT' | 'TAXES' | 'PASTDUEONLY';\n  amount: number;\n}\n\nexport interface PaymentIframeResponse {\n  hasError: boolean;\n  message?: string;\n  url?: string;\n  errorInfo?: {\n    hasError: boolean;\n    message?: string;\n  };\n}\n\nexport interface PaymentResult {\n  state: string; // 'paymentResult'\n  data: PaymentResultData;\n}\n\nexport interface PaymentResultData {\n  success: boolean;\n  authorizationNumber?: string;\n  code?: string;\n  date?: string;\n  description?: string;\n  operationId?: string;\n  operationType?: string;\n  paymentMethod?: string;\n  provisioning?: any;\n  storedInstrument?: any;\n  paymentCard?: any;\n}\n\nexport interface PaymentRecordRequest {\n  orderId: string;\n  operationId: string;\n  authCode: string;\n  responseCode: string;\n  amount: number;\n}\n\nexport interface PaymentErrorRequest {\n  orderId: string;\n  operationId: string;\n  responseCode: string;\n  errorMessage?: string;\n}\n\n// ------------------------------------------\n// CONFIRMATION INTERFACES\n// ------------------------------------------\n\nexport interface OrderConfirmation {\n  orderId: string;\n  orderNumber: string;\n  status: string;\n  createdAt: string;\n  estimatedDelivery?: string;\n  trackingNumber?: string;\n  customer: CustomerInfo;\n  products: CartItem[];\n  plan?: Plan;\n  subtotal: number;\n  tax: number;\n  shipping: number;\n  total: number;\n  paymentMethod?: string;\n  lastFourDigits?: string;\n}\n"],"version":3}