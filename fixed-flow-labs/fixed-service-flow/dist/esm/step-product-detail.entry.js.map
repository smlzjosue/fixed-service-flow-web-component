{"version":3,"file":"step-product-detail.entry.js","sources":["src/components/steps/step-product-detail/step-product-detail.scss?tag=step-product-detail&encapsulation=shadow","src/components/steps/step-product-detail/step-product-detail.tsx"],"sourcesContent":["// ============================================\n// STEP PRODUCT DETAIL - SCSS Styles\n// Fixed Service Flow Web Component\n// Design based on TEL product-web.component\n// ============================================\n\n@import '../../../global/variables';\n\n// ------------------------------------------\n// LOCAL ALIASES (for convenience)\n// ------------------------------------------\n\n$primary-color: $color-primary;\n$secondary-color: $color-secondary;\n$error-color: $color-error;\n$success-color: $color-success;\n$gray-50: $color-gray-50;\n$gray-100: $color-gray-100;\n$gray-200: $color-gray-200;\n$gray-300: $color-gray-300;\n$gray-400: $color-gray-400;\n$gray-500: $color-gray-500;\n$gray-600: $color-gray-600;\n$gray-700: $color-gray-700;\n$gray-900: $color-gray-900;\n$radius-sm: $border-radius-sm;\n$radius-md: $border-radius-md;\n$radius-lg: $border-radius-lg;\n$radius-full: $border-radius-full;\n\n// Spacing aliases\n$spacing-xs: $spacing-1;\n$spacing-sm: $spacing-2;\n$spacing-md: $spacing-4;\n$spacing-lg: $spacing-6;\n$spacing-xl: $spacing-8;\n\n// ------------------------------------------\n// HOST\n// ------------------------------------------\n\n:host {\n  display: block;\n  width: 100%;\n  min-height: 100%;\n  background-color: $gray-50;\n}\n\n// ------------------------------------------\n// MAIN CONTAINER\n// ------------------------------------------\n\n.step-product-detail {\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: $spacing-lg;\n}\n\n// ------------------------------------------\n// LOADING & ERROR\n// ------------------------------------------\n\n.loading-container,\n.error-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 400px;\n  text-align: center;\n  padding: $spacing-xl;\n}\n\n.spinner {\n  width: 48px;\n  height: 48px;\n  border: 4px solid $gray-200;\n  border-top-color: $primary-color;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: $spacing-md;\n}\n\n.spinner-small {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-top-color: white;\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n  margin-right: $spacing-xs;\n  vertical-align: middle;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.error-container {\n  p {\n    color: $error-color;\n    margin-bottom: $spacing-md;\n    font-size: $font-size-lg;\n  }\n\n  button {\n    margin: $spacing-xs;\n  }\n}\n\n.btn-retry {\n  background: $primary-color;\n  color: white;\n  border: none;\n  padding: $spacing-sm $spacing-lg;\n  border-radius: $radius-full;\n  cursor: pointer;\n  font-weight: 600;\n\n  &:hover {\n    background: darken($primary-color, 10%);\n  }\n}\n\n// ------------------------------------------\n// BREADCRUMB\n// ------------------------------------------\n\n.breadcrumb {\n  display: flex;\n  align-items: center;\n  gap: $spacing-sm;\n  margin-bottom: $spacing-lg;\n  font-size: $font-size-sm;\n  color: $gray-600;\n}\n\n.breadcrumb-item {\n  cursor: pointer;\n  transition: color 0.2s;\n\n  &:hover {\n    color: $secondary-color;\n  }\n\n  &.active {\n    color: $gray-900;\n    font-weight: 500;\n    cursor: default;\n\n    &:hover {\n      color: $gray-900;\n    }\n  }\n}\n\n.breadcrumb-separator {\n  color: $gray-400;\n}\n\n// ------------------------------------------\n// PRODUCT CONTAINER\n// ------------------------------------------\n\n.product-container {\n  background: white;\n  border-radius: $radius-lg;\n  box-shadow: $shadow-md;\n  padding: $spacing-xl;\n}\n\n// ------------------------------------------\n// PRODUCT GRID\n// ------------------------------------------\n\n.product-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: $spacing-xl;\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n}\n\n// ------------------------------------------\n// IMAGE SECTION (with Carousel)\n// ------------------------------------------\n\n.product-image-section {\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  width: 100%;\n  max-width: 450px;\n  margin: 0 auto;\n\n  // Ensure carousel takes full width\n  ui-image-carousel {\n    width: 100%;\n  }\n}\n\n// Fallback for static image (if carousel not used)\n.image-container {\n  width: 100%;\n  max-width: 400px;\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: $gray-50;\n  border-radius: $radius-md;\n  padding: $spacing-md;\n}\n\n.product-image {\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: contain;\n}\n\n// ------------------------------------------\n// DETAILS SECTION\n// ------------------------------------------\n\n.product-details-section {\n  display: flex;\n  flex-direction: column;\n  gap: $spacing-md;\n}\n\n.brand-name {\n  font-size: $font-size-sm;\n  color: $gray-500;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.product-name {\n  font-size: $font-size-2xl;\n  font-weight: 700;\n  color: $gray-900;\n  margin: 0;\n  line-height: 1.2;\n}\n\n.product-description {\n  font-size: $font-size-base;\n  color: $gray-600;\n  line-height: 1.6;\n  margin: 0;\n}\n\n// ------------------------------------------\n// SELECTOR SECTIONS\n// ------------------------------------------\n\n.selector-section {\n  padding: $spacing-md 0;\n  border-top: 1px solid $gray-100;\n\n  &:first-of-type {\n    border-top: none;\n  }\n}\n\n.selector-title {\n  font-size: $font-size-sm;\n  font-weight: 600;\n  color: $gray-700;\n  margin: 0 0 $spacing-sm 0;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n// ------------------------------------------\n// COLOR SELECTOR\n// ------------------------------------------\n\n.color-options {\n  display: flex;\n  gap: $spacing-sm;\n  flex-wrap: wrap;\n  margin-bottom: $spacing-xs;\n}\n\n.color-circle {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  border: 2px solid transparent;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  &.selected {\n    border-color: $secondary-color;\n    box-shadow: 0 0 0 2px white, 0 0 0 4px $secondary-color;\n  }\n\n  .check-icon {\n    width: 18px;\n    height: 18px;\n  }\n}\n\n.selected-label {\n  font-size: $font-size-sm;\n  color: $gray-600;\n}\n\n// ------------------------------------------\n// STORAGE SELECTOR\n// ------------------------------------------\n\n.storage-options {\n  display: flex;\n  gap: $spacing-sm;\n  flex-wrap: wrap;\n}\n\n.storage-button {\n  padding: $spacing-sm $spacing-md;\n  border: 2px solid $gray-200;\n  border-radius: $radius-md;\n  background: white;\n  cursor: pointer;\n  font-size: $font-size-sm;\n  font-weight: 500;\n  color: $gray-700;\n  transition: all 0.2s;\n\n  &:hover {\n    border-color: $secondary-color;\n    color: $secondary-color;\n  }\n\n  &.selected {\n    border-color: $secondary-color;\n    background: rgba($secondary-color, 0.1);\n    color: $secondary-color;\n  }\n}\n\n// ------------------------------------------\n// INSTALLMENT SELECTOR\n// ------------------------------------------\n\n.installment-options {\n  display: flex;\n  gap: $spacing-sm;\n  flex-wrap: wrap;\n}\n\n.installment-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: $spacing-sm $spacing-md;\n  border: 2px solid $gray-200;\n  border-radius: $radius-md;\n  background: white;\n  cursor: pointer;\n  transition: all 0.2s;\n  min-width: 100px;\n\n  &:hover {\n    border-color: $secondary-color;\n  }\n\n  &.selected {\n    border-color: $secondary-color;\n    background: rgba($secondary-color, 0.1);\n\n    .months, .price {\n      color: $secondary-color;\n    }\n  }\n\n  .months {\n    font-size: $font-size-sm;\n    font-weight: 600;\n    color: $gray-700;\n  }\n\n  .price {\n    font-size: $font-size-xs;\n    color: $gray-500;\n    margin-top: 2px;\n  }\n}\n\n// ------------------------------------------\n// QUANTITY SELECTOR\n// ------------------------------------------\n\n.quantity-selector {\n  display: flex;\n  align-items: center;\n  gap: $spacing-md;\n}\n\n.qty-button {\n  width: 36px;\n  height: 36px;\n  border: 2px solid $gray-300;\n  border-radius: $radius-md;\n  background: white;\n  cursor: pointer;\n  font-size: $font-size-lg;\n  font-weight: 600;\n  color: $gray-700;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n\n  &:hover:not(:disabled) {\n    border-color: $secondary-color;\n    color: $secondary-color;\n  }\n\n  &:disabled {\n    opacity: 0.4;\n    cursor: not-allowed;\n  }\n}\n\n.qty-value {\n  font-size: $font-size-lg;\n  font-weight: 600;\n  color: $gray-900;\n  min-width: 30px;\n  text-align: center;\n}\n\n// ------------------------------------------\n// PRICE SECTION\n// ------------------------------------------\n\n.price-section {\n  background: $gray-50;\n  border-radius: $radius-md;\n  padding: $spacing-md;\n  margin-top: $spacing-sm;\n}\n\n.price-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: $spacing-xs 0;\n\n  &.monthly {\n    .value {\n      font-size: $font-size-xl;\n      font-weight: 700;\n      color: $primary-color;\n    }\n  }\n\n  &.total {\n    border-top: 1px solid $gray-200;\n    padding-top: $spacing-sm;\n    margin-top: $spacing-xs;\n\n    .value {\n      font-weight: 600;\n    }\n  }\n\n  .label {\n    font-size: $font-size-sm;\n    color: $gray-600;\n  }\n\n  .value {\n    font-size: $font-size-base;\n    color: $gray-900;\n  }\n}\n\n// ------------------------------------------\n// BUTTONS\n// ------------------------------------------\n\n.btn-add-to-cart {\n  width: 100%;\n  padding: $spacing-md;\n  background: $primary-color;\n  color: white;\n  border: none;\n  border-radius: $radius-full;\n  font-size: $font-size-base;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  margin-top: $spacing-md;\n\n  &:hover:not(:disabled) {\n    background: darken($primary-color, 10%);\n  }\n\n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n\n  &.loading {\n    background: $gray-500;\n  }\n\n  .loading-text {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n}\n\n.btn-back-link {\n  background: none;\n  border: none;\n  color: $secondary-color;\n  font-size: $font-size-sm;\n  cursor: pointer;\n  padding: $spacing-sm;\n  margin-top: $spacing-xs;\n  transition: color 0.2s;\n\n  &:hover {\n    color: darken($secondary-color, 10%);\n    text-decoration: underline;\n  }\n}\n\n.btn-back {\n  background: $gray-200;\n  color: $gray-700;\n  border: none;\n  padding: $spacing-sm $spacing-lg;\n  border-radius: $radius-full;\n  cursor: pointer;\n  font-weight: 500;\n\n  &:hover {\n    background: $gray-300;\n  }\n}\n\n// ------------------------------------------\n// FEATURES SECTION\n// ------------------------------------------\n\n.features-section {\n  margin-top: $spacing-xl;\n  padding-top: $spacing-xl;\n  border-top: 1px solid $gray-200;\n}\n\n.features-title,\n.specs-title {\n  font-size: $font-size-lg;\n  font-weight: 600;\n  color: $gray-900;\n  margin: 0 0 $spacing-md 0;\n}\n\n.features-list {\n  margin: 0;\n  padding: 0 0 0 $spacing-lg;\n\n  .feature-item {\n    padding: $spacing-xs 0;\n    color: $gray-700;\n    line-height: 1.5;\n  }\n}\n\n// ------------------------------------------\n// SPECIFICATIONS SECTION\n// ------------------------------------------\n\n.specs-section {\n  margin-top: $spacing-xl;\n  padding-top: $spacing-xl;\n  border-top: 1px solid $gray-200;\n}\n\n.specs-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: $spacing-sm;\n\n  @media (max-width: 576px) {\n    grid-template-columns: 1fr;\n  }\n}\n\n.spec-item {\n  display: flex;\n  justify-content: space-between;\n  padding: $spacing-sm;\n  background: $gray-50;\n  border-radius: $radius-sm;\n\n  .spec-label {\n    font-size: $font-size-sm;\n    color: $gray-600;\n  }\n\n  .spec-value {\n    font-size: $font-size-sm;\n    font-weight: 500;\n    color: $gray-900;\n  }\n}\n\n// ------------------------------------------\n// AVAILABILITY STATUS (TEL pattern)\n// ------------------------------------------\n\n.availability-status {\n  display: flex;\n  align-items: center;\n  gap: $spacing-xs;\n  padding: $spacing-sm 0;\n\n  &--available {\n    display: flex;\n    align-items: center;\n    gap: $spacing-xs;\n    color: $success-color;\n    font-weight: 500;\n    font-size: $font-size-sm;\n  }\n\n  &--unavailable {\n    display: flex;\n    align-items: center;\n    gap: $spacing-xs;\n    color: $error-color;\n    font-weight: 500;\n    font-size: $font-size-sm;\n  }\n}\n\n.availability-icon {\n  width: 18px;\n  height: 18px;\n}\n\n// ------------------------------------------\n// UNAVAILABLE ALERT MODAL\n// ------------------------------------------\n\n.unavailable-alert-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: $spacing-md;\n}\n\n.unavailable-alert {\n  background: white;\n  border-radius: $radius-lg;\n  padding: $spacing-xl;\n  max-width: 400px;\n  width: 100%;\n  text-align: center;\n  box-shadow: $shadow-xl;\n  animation: alertSlideIn 0.3s ease-out;\n\n  &__icon {\n    width: 64px;\n    height: 64px;\n    margin: 0 auto $spacing-md;\n    background: rgba($error-color, 0.1);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    svg {\n      width: 32px;\n      height: 32px;\n      color: $error-color;\n    }\n  }\n\n  &__title {\n    font-size: $font-size-xl;\n    font-weight: 700;\n    color: $gray-900;\n    margin: 0 0 $spacing-sm 0;\n  }\n\n  &__message {\n    font-size: $font-size-base;\n    color: $gray-600;\n    line-height: 1.6;\n    margin: 0 0 $spacing-lg 0;\n  }\n\n  &__btn {\n    width: 100%;\n    padding: $spacing-md;\n    background: $primary-color;\n    color: white;\n    border: none;\n    border-radius: $radius-full;\n    font-size: $font-size-base;\n    font-weight: 600;\n    cursor: pointer;\n    transition: background 0.2s;\n\n    &:hover {\n      background: darken($primary-color, 10%);\n    }\n  }\n}\n\n@keyframes alertSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n// ------------------------------------------\n// DISABLED BUTTON STATE\n// ------------------------------------------\n\n.btn-add-to-cart.disabled {\n  background: $gray-400;\n  cursor: not-allowed;\n\n  &:hover {\n    background: $gray-400;\n  }\n}\n","// ============================================\n// STEP PRODUCT DETAIL - Equipment Detail for CLARO HOGAR\n// Fixed Service Flow Web Component\n// Design based on TEL product-web.component\n// ============================================\n\nimport { Component, Prop, State, h, Host } from '@stencil/core';\nimport { productService } from '../../../services/product.service';\nimport { cartService } from '../../../services/cart.service';\nimport { catalogueService } from '../../../services';\nimport { ProductDetail, CatalogueProduct } from '../../../store/interfaces';\n\ninterface ColorOption {\n  colorId: number;\n  colorName: string;\n  webColor: string;\n  productId?: number;\n  imgUrl?: string;\n}\n\ninterface StorageOption {\n  storageId: number;\n  storageName: string;\n  productId?: number;\n  price?: number;\n}\n\ninterface InstallmentOption {\n  months: number;\n  monthlyPrice: number;\n  totalPrice: number;\n}\n\n@Component({\n  tag: 'step-product-detail',\n  styleUrl: 'step-product-detail.scss',\n  shadow: true,\n})\nexport class StepProductDetail {\n  // ------------------------------------------\n  // PROPS\n  // ------------------------------------------\n\n  @Prop() onNext: () => void;\n  @Prop() onBack: () => void;\n\n  // ------------------------------------------\n  // STATE\n  // ------------------------------------------\n\n  @State() product: ProductDetail | null = null;\n  @State() catalogueProduct: CatalogueProduct | null = null;\n  @State() isLoading: boolean = true;\n  @State() error: string | null = null;\n  @State() isAddingToCart: boolean = false;\n\n  // Selection states\n  @State() selectedColorIndex: number = 0;\n  @State() selectedStorageIndex: number = 0;\n  @State() selectedInstallments: number = 36;\n  @State() quantity: number = 1;\n\n  // Availability state\n  @State() isAvailable: boolean = true;\n  @State() showUnavailableAlert: boolean = false;\n\n  // Parsed options\n  @State() colorOptions: ColorOption[] = [];\n  @State() storageOptions: StorageOption[] = [];\n  @State() installmentOptions: InstallmentOption[] = [];\n\n  // Product images for carousel\n  @State() productImages: string[] = [];\n\n  // Stock threshold (TEL uses entryBarrier = 1, so stock > 1 means available)\n  private readonly ENTRY_BARRIER = 1;\n\n  // ------------------------------------------\n  // LIFECYCLE\n  // ------------------------------------------\n\n  componentWillLoad() {\n    this.loadProductDetail();\n  }\n\n  // ------------------------------------------\n  // METHODS\n  // ------------------------------------------\n\n  private async loadProductDetail() {\n    this.isLoading = true;\n    this.error = null;\n\n    try {\n      // Get product from session (stored by step-catalogue)\n      const storedProduct = catalogueService.getStoredProduct();\n\n      if (!storedProduct) {\n        this.error = 'No se encontró el producto seleccionado';\n        this.isLoading = false;\n        return;\n      }\n\n      this.catalogueProduct = storedProduct;\n\n      // Fetch detailed product info from API\n      const response = await productService.getEquipmentDetail(storedProduct.productId);\n\n      if (response.hasError || !response.product) {\n        // If API fails, use catalogue data as fallback\n        console.warn('[StepProductDetail] API failed, using catalogue data');\n        this.product = this.mapCatalogueToDetail(storedProduct);\n      } else {\n        this.product = response.product;\n      }\n\n      // Parse options\n      this.parseColorOptions();\n      this.parseStorageOptions();\n      this.parseInstallmentOptions();\n\n      // Build images array for carousel\n      this.buildProductImages();\n\n      // Check product availability (TEL pattern: stock > entryBarrier)\n      this.checkAvailability();\n\n      // Store in session\n      productService.storeSelectedProduct(this.product);\n      productService.storeDeviceType('home');\n\n    } catch (err) {\n      console.error('[StepProductDetail] Error:', err);\n      this.error = 'Error al cargar el detalle del producto';\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private mapCatalogueToDetail(cat: CatalogueProduct): ProductDetail {\n    return {\n      productId: cat.productId,\n      productName: cat.productName,\n      imgUrl: cat.imgUrl,\n      regular_price: cat.regular_price,\n      update_price: cat.update_price,\n      installments: cat.installments,\n      shortDescription: cat.shortDescription,\n      colors: cat.colors?.map((c, i) => ({\n        colorId: i,\n        colorName: `Color ${i + 1}`,\n        webColor: c.webColor,\n      })),\n      home: true,\n      catalogId: 6,\n    };\n  }\n\n  private parseColorOptions() {\n    if (!this.product?.colors || this.product.colors.length === 0) {\n      // Default single color if none specified\n      this.colorOptions = [{\n        colorId: 0,\n        colorName: 'Default',\n        webColor: '#333333',\n      }];\n      return;\n    }\n\n    this.colorOptions = this.product.colors.map((color: any, index: number) => ({\n      colorId: color.colorId || index,\n      colorName: color.colorName || `Color ${index + 1}`,\n      webColor: color.webColor || '#333333',\n      productId: color.productId,\n      imgUrl: color.imgUrl,\n    }));\n  }\n\n  private parseStorageOptions() {\n    if (!this.product?.storages || this.product.storages.length === 0) {\n      // No storage options for this product\n      this.storageOptions = [];\n      return;\n    }\n\n    this.storageOptions = this.product.storages.map((storage: any, index: number) => ({\n      storageId: storage.storageId || index,\n      storageName: storage.storageName || storage.name || `${storage.size}GB`,\n      productId: storage.productId,\n      price: storage.price,\n    }));\n  }\n\n  private parseInstallmentOptions() {\n    const totalPrice = this.product?.regular_price || 0;\n    const defaultInstallments = this.product?.installments || 36;\n\n    // Common installment options\n    const options = [12, 24, 36];\n\n    this.installmentOptions = options.map(months => ({\n      months,\n      monthlyPrice: Number((totalPrice / months).toFixed(2)),\n      totalPrice,\n    }));\n\n    // Set default selection\n    this.selectedInstallments = defaultInstallments;\n  }\n\n  /**\n   * Builds the product images array for the carousel\n   * Following TEL pattern: combines main image, detail image, and any additional images\n   */\n  private buildProductImages() {\n    if (!this.product) {\n      this.productImages = [];\n      return;\n    }\n\n    const images: string[] = [];\n\n    // Add images from product.images if available (already processed by service)\n    if (this.product.images?.length) {\n      images.push(...this.product.images);\n    }\n    // Fallback: use single imgUrl if no images array\n    else if (this.product.imgUrl) {\n      images.push(this.product.imgUrl);\n    }\n\n    // Add color-specific images if available\n    if (this.colorOptions?.length > 0) {\n      this.colorOptions.forEach(color => {\n        if (color.imgUrl && !images.includes(color.imgUrl)) {\n          images.push(color.imgUrl);\n        }\n      });\n    }\n\n    this.productImages = images;\n    console.log('[StepProductDetail] Product images:', this.productImages.length);\n  }\n\n  /**\n   * Checks product availability based on stock quantity\n   * Following TEL pattern: hasStock = stock > entryBarrier\n   *\n   * TEL's product.service.ts uses:\n   *   - entryBarrier = 1\n   *   - hasStock = (stock > entryBarrier)\n   *\n   * The stock value comes from colors[].storages[].products[0].stock in the API response\n   * which is now extracted by productService.getEquipmentDetail()\n   */\n  private checkAvailability() {\n    if (!this.product) {\n      this.isAvailable = false;\n      this.showUnavailableAlert = true;\n      return;\n    }\n\n    // TEL Pattern: stock > entryBarrier (where entryBarrier = 1)\n    // If stock is undefined, it means the colors structure wasn't present or no products found\n    // In that case, we check if product has valid basic data and assume available\n    if (this.product.stock === undefined || this.product.stock === null) {\n      // No stock info from nested structure - assume available if product has basic data\n      this.isAvailable = true;\n      console.log('[StepProductDetail] Availability check - stock undefined (no colors structure), assuming available');\n    } else {\n      // TEL Pattern: hasStock = stock > entryBarrier (1)\n      this.isAvailable = this.product.stock > this.ENTRY_BARRIER;\n      console.log('[StepProductDetail] Availability check (TEL pattern) - stock:', this.product.stock, '> entryBarrier:', this.ENTRY_BARRIER, '=', this.isAvailable);\n\n      if (!this.isAvailable) {\n        this.showUnavailableAlert = true;\n      }\n    }\n  }\n\n  /**\n   * Handles dismissing the unavailable alert and going back\n   */\n  private handleGoBackFromAlert = () => {\n    this.showUnavailableAlert = false;\n    this.onBack?.();\n  };\n\n  private handleColorSelect = (index: number) => {\n    this.selectedColorIndex = index;\n    const color = this.colorOptions[index];\n\n    // Store selected color\n    productService.storeSelectedColor(\n      color.colorId,\n      color.colorName,\n      color.webColor\n    );\n\n    // Update product image if color has specific image\n    if (color.imgUrl && this.product) {\n      this.product = { ...this.product, imgUrl: color.imgUrl };\n    }\n  };\n\n  private handleStorageSelect = (index: number) => {\n    this.selectedStorageIndex = index;\n    const storage = this.storageOptions[index];\n\n    // Store selected storage\n    productService.storeSelectedStorage(storage.storageId, storage.storageName);\n\n    // Update children ID if storage has specific product\n    if (storage.productId) {\n      productService.storeChildrenId(storage.productId);\n    }\n  };\n\n  private handleInstallmentSelect = (months: number) => {\n    this.selectedInstallments = months;\n  };\n\n  // Quantity selector commented out - keeping function for future use\n  // private handleQuantityChange = (delta: number) => {\n  //   const newQty = this.quantity + delta;\n  //   if (newQty >= 1 && newQty <= 5) {\n  //     this.quantity = newQty;\n  //   }\n  // };\n\n  private handleAddToCart = async () => {\n    if (!this.product || this.isAddingToCart) return;\n\n    this.isAddingToCart = true;\n\n    try {\n      const response = await cartService.addToCart(\n        this.product,\n        this.selectedInstallments,\n        this.quantity\n      );\n\n      if (response.hasError) {\n        console.error('[StepProductDetail] Add to cart failed:', response.message);\n        this.error = response.message || 'Error al agregar al carrito';\n        return;\n      }\n\n      // Store mainId for next steps\n      if (response.code) {\n        cartService.storeMainId(response.code);\n        productService.storeMainId(response.code);\n      }\n\n      console.log('[StepProductDetail] Added to cart, proceeding to plans');\n\n      // Navigate to next step (plans selection)\n      this.onNext?.();\n\n    } catch (err) {\n      console.error('[StepProductDetail] Error:', err);\n      this.error = 'Error al agregar el producto al carrito';\n    } finally {\n      this.isAddingToCart = false;\n    }\n  };\n\n  private getCurrentMonthlyPrice(): number {\n    const option = this.installmentOptions.find(o => o.months === this.selectedInstallments);\n    return option?.monthlyPrice || this.product?.update_price || 0;\n  }\n\n  private formatPrice(price: number): string {\n    return `$${price.toFixed(2)}`;\n  }\n\n  // ------------------------------------------\n  // RENDER HELPERS\n  // ------------------------------------------\n\n  private renderBreadcrumb() {\n    return (\n      <div class=\"breadcrumb\">\n        <span class=\"breadcrumb-item\" onClick={this.onBack}>\n          Catálogo\n        </span>\n        <span class=\"breadcrumb-separator\">&gt;</span>\n        <span class=\"breadcrumb-item active\">\n          {this.product?.productName || 'Detalle'}\n        </span>\n      </div>\n    );\n  }\n\n  private renderColorSelector() {\n    if (this.colorOptions.length <= 1) return null;\n\n    return (\n      <div class=\"selector-section\">\n        <h4 class=\"selector-title\">Color</h4>\n        <div class=\"color-options\">\n          {this.colorOptions.map((color, index) => (\n            <button\n              class={{\n                'color-circle': true,\n                'selected': this.selectedColorIndex === index,\n              }}\n              style={{ backgroundColor: color.webColor }}\n              onClick={() => this.handleColorSelect(index)}\n              title={color.colorName}\n            >\n              {this.selectedColorIndex === index && (\n                <svg class=\"check-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"3\">\n                  <polyline points=\"20 6 9 17 4 12\"></polyline>\n                </svg>\n              )}\n            </button>\n          ))}\n        </div>\n        <span class=\"selected-label\">{this.colorOptions[this.selectedColorIndex]?.colorName}</span>\n      </div>\n    );\n  }\n\n  private renderStorageSelector() {\n    if (this.storageOptions.length === 0) return null;\n\n    return (\n      <div class=\"selector-section\">\n        <h4 class=\"selector-title\">Almacenamiento</h4>\n        <div class=\"storage-options\">\n          {this.storageOptions.map((storage, index) => (\n            <button\n              class={{\n                'storage-button': true,\n                'selected': this.selectedStorageIndex === index,\n              }}\n              onClick={() => this.handleStorageSelect(index)}\n            >\n              {storage.storageName}\n            </button>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  private renderInstallmentSelector() {\n    return (\n      <div class=\"selector-section\">\n        <h4 class=\"selector-title\">Plazos de pago</h4>\n        <div class=\"installment-options\">\n          {this.installmentOptions.map(option => (\n            <button\n              class={{\n                'installment-button': true,\n                'selected': this.selectedInstallments === option.months,\n              }}\n              onClick={() => this.handleInstallmentSelect(option.months)}\n            >\n              <span class=\"months\">{option.months} meses</span>\n              <span class=\"price\">{this.formatPrice(option.monthlyPrice)}/mes</span>\n            </button>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  private renderQuantitySelector() {\n    return (\n      <div class=\"selector-section\">\n        {/* <h4 class=\"selector-title\">Cantidad</h4>\n        <div class=\"quantity-selector\">\n          <button\n            class=\"qty-button\"\n            onClick={() => this.handleQuantityChange(-1)}\n            disabled={this.quantity <= 1}\n          >\n            -\n          </button>\n          <span class=\"qty-value\">{this.quantity}</span>\n          <button\n            class=\"qty-button\"\n            onClick={() => this.handleQuantityChange(1)}\n            disabled={this.quantity >= 5}\n          >\n            +\n          </button>\n        </div> */}\n      </div>\n    );\n  }\n\n  private renderPriceSection() {\n    const monthlyPrice = this.getCurrentMonthlyPrice();\n    const totalPrice = this.product?.regular_price || 0;\n\n    return (\n      <div class=\"price-section\">\n        <div class=\"price-row monthly\">\n          <span class=\"label\">Pago mensual</span>\n          <span class=\"value\">{this.formatPrice(monthlyPrice)}</span>\n        </div>\n        <div class=\"price-row total\">\n          <span class=\"label\">Precio total</span>\n          <span class=\"value\">{this.formatPrice(totalPrice)}</span>\n        </div>\n        <div class=\"price-row installments\">\n          <span class=\"label\">Financiado a</span>\n          <span class=\"value\">{this.selectedInstallments} meses</span>\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Renders the availability status indicator (TEL pattern)\n   */\n  private renderAvailabilityStatus() {\n    return (\n      <div class=\"availability-status\">\n        {this.isAvailable ? (\n          <div class=\"availability-status--available\">\n            <svg class=\"availability-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"></path>\n              <polyline points=\"22 4 12 14.01 9 11.01\"></polyline>\n            </svg>\n            <span>Disponible</span>\n          </div>\n        ) : (\n          <div class=\"availability-status--unavailable\">\n            <svg class=\"availability-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path>\n              <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line>\n              <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\n            </svg>\n            <span>No disponible</span>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  /**\n   * Renders the unavailable product alert modal\n   */\n  private renderUnavailableAlert() {\n    if (!this.showUnavailableAlert) return null;\n\n    return (\n      <div class=\"unavailable-alert-overlay\">\n        <div class=\"unavailable-alert\">\n          <div class=\"unavailable-alert__icon\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path>\n              <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line>\n              <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\n            </svg>\n          </div>\n          <h3 class=\"unavailable-alert__title\">Producto no disponible</h3>\n          <p class=\"unavailable-alert__message\">\n            Lo sentimos, este equipo no está disponible actualmente.\n            Por favor seleccione otro equipo del catálogo.\n          </p>\n          <button class=\"unavailable-alert__btn\" onClick={this.handleGoBackFromAlert}>\n            Volver al catálogo\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // ------------------------------------------\n  // RENDER\n  // ------------------------------------------\n\n  render() {\n    return (\n      <Host>\n        <div class=\"step-product-detail\">\n          {/* Unavailable Alert Modal */}\n          {this.renderUnavailableAlert()}\n\n          {/* Loading */}\n          {this.isLoading && (\n            <div class=\"loading-container\">\n              <div class=\"spinner\"></div>\n              <p>Cargando producto...</p>\n            </div>\n          )}\n\n          {/* Error */}\n          {this.error && !this.isLoading && (\n            <div class=\"error-container\">\n              <p>{this.error}</p>\n              <button class=\"btn-retry\" onClick={() => this.loadProductDetail()}>\n                Reintentar\n              </button>\n              <button class=\"btn-back\" onClick={this.onBack}>\n                Volver al catálogo\n              </button>\n            </div>\n          )}\n\n          {/* Product Detail */}\n          {!this.isLoading && !this.error && this.product && (\n            <div class=\"product-container\">\n              {/* Breadcrumb */}\n              {this.renderBreadcrumb()}\n\n              {/* Main Content Grid */}\n              <div class=\"product-grid\">\n                {/* Left Column: Image Carousel */}\n                <div class=\"product-image-section\">\n                  <ui-image-carousel\n                    images={this.productImages}\n                    loop={true}\n                    showNavigation={this.productImages.length > 1}\n                    showIndicators={this.productImages.length > 1}\n                    autoplayInterval={0}\n                  ></ui-image-carousel>\n                </div>\n\n                {/* Right Column: Details */}\n                <div class=\"product-details-section\">\n                  {/* Brand & Name */}\n                  {this.product.brandName && (\n                    <span class=\"brand-name\">{this.product.brandName}</span>\n                  )}\n                  <h1 class=\"product-name\">{this.product.productName}</h1>\n\n                  {/* Description */}\n                  {this.product.shortDescription && (\n                    <p class=\"product-description\">\n                      {productService.cleanDescription(this.product.shortDescription)}\n                    </p>\n                  )}\n\n                  {/* Availability Status Indicator */}\n                  {this.renderAvailabilityStatus()}\n\n                  {/* Color Selector */}\n                  {this.renderColorSelector()}\n\n                  {/* Storage Selector */}\n                  {this.renderStorageSelector()}\n\n                  {/* Installment Selector */}\n                  {this.renderInstallmentSelector()}\n\n                  {/* Quantity Selector */}\n                  {this.renderQuantitySelector()}\n\n                  {/* Price Section */}\n                  {this.renderPriceSection()}\n\n                  {/* Add to Cart Button */}\n                  <button\n                    class={{\n                      'btn-add-to-cart': true,\n                      'loading': this.isAddingToCart,\n                      'disabled': !this.isAvailable,\n                    }}\n                    onClick={this.handleAddToCart}\n                    disabled={this.isAddingToCart || !this.isAvailable}\n                  >\n                    {this.isAddingToCart ? (\n                      <span class=\"loading-text\">\n                        <span class=\"spinner-small\"></span>\n                        Agregando...\n                      </span>\n                    ) : !this.isAvailable ? (\n                      'No disponible'\n                    ) : (\n                      'Continuar'\n                    )}\n                  </button>\n\n                  {/* Back Button */}\n                  <button class=\"btn-back-link\" onClick={this.onBack}>\n                    &larr; Volver al catálogo\n                  </button>\n                </div>\n              </div>\n\n              {/* Features Section */}\n              {this.product.features && this.product.features.length > 0 && (\n                <div class=\"features-section\">\n                  <h3 class=\"features-title\">Características</h3>\n                  <ul class=\"features-list\">\n                    {this.product.features.map(feature => (\n                      <li class=\"feature-item\">{feature}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n\n              {/* Specifications Section */}\n              {this.product.specifications && this.product.specifications.length > 0 && (\n                <div class=\"specs-section\">\n                  <h3 class=\"specs-title\">Especificaciones</h3>\n                  <div class=\"specs-grid\">\n                    {this.product.specifications.map((spec: any) => (\n                      <div class=\"spec-item\">\n                        <span class=\"spec-label\">{spec.name}</span>\n                        <span class=\"spec-value\">{spec.value}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}