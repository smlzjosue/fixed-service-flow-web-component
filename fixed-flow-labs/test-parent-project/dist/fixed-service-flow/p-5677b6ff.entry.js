import{r as i,h as e,H as a}from"./p-CYQeQM-n.js";const t=()=>`:host{display:block;width:100%}.ui-image-carousel{position:relative;width:100%}.ui-image-carousel__main{position:relative;width:100%;aspect-ratio:1;background:#F5F5F5;border-radius:0.75rem;overflow:hidden;display:flex;align-items:center;justify-content:center}.ui-image-carousel__track{display:flex;width:100%;height:100%;transition:transform 0.4s ease-out;will-change:transform}.ui-image-carousel__slide{flex:0 0 100%;width:100%;height:100%;display:flex;align-items:center;justify-content:center;padding:1rem;box-sizing:border-box}.ui-image-carousel__image{max-width:100%;max-height:100%;object-fit:contain;opacity:0;transition:opacity 0.3s ease}.ui-image-carousel__image--loaded{opacity:1}.ui-image-carousel__nav{position:absolute;top:50%;transform:translateY(-50%);z-index:10;width:40px;height:40px;border-radius:50%;background:rgba(255, 255, 255, 0.95);border:1px solid #E5E5E5;color:#808080;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.2s ease;box-shadow:0 2px 8px rgba(0, 0, 0, 0.1)}.ui-image-carousel__nav svg{width:20px;height:20px}.ui-image-carousel__nav:hover:not(:disabled){background:#DA291C;border-color:#DA291C;color:white;box-shadow:0 4px 12px rgba(218, 41, 28, 0.3)}.ui-image-carousel__nav:active:not(:disabled){transform:translateY(-50%) scale(0.95)}.ui-image-carousel__nav--prev{left:0.5rem}.ui-image-carousel__nav--next{right:0.5rem}.ui-image-carousel__nav--disabled{opacity:0.3;cursor:not-allowed;pointer-events:none}@media (max-width: 599px){.ui-image-carousel__nav{width:32px;height:32px}.ui-image-carousel__nav svg{width:16px;height:16px}}.ui-image-carousel__indicators{display:flex;justify-content:center;gap:0.5rem;margin-top:0.75rem}.ui-image-carousel__dot{width:8px;height:8px;border-radius:50%;border:none;background:#CCCCCC;cursor:pointer;padding:0;transition:all 0.2s ease}.ui-image-carousel__dot:hover{background:#999999}.ui-image-carousel__dot--active{background:#DA291C;width:24px;border-radius:4px}.ui-image-carousel__thumbnails{display:flex;justify-content:center;gap:0.5rem;margin-top:0.75rem;padding:0 0.5rem;overflow-x:auto}.ui-image-carousel__thumbnails::-webkit-scrollbar{display:none}.ui-image-carousel__thumbnails{-ms-overflow-style:none;scrollbar-width:none}.ui-image-carousel__thumbnail{flex-shrink:0;width:60px;height:60px;border-radius:0.5rem;border:2px solid #E5E5E5;background:#F5F5F5;cursor:pointer;padding:4px;overflow:hidden;transition:all 0.2s ease}.ui-image-carousel__thumbnail img{width:100%;height:100%;object-fit:contain}.ui-image-carousel__thumbnail:hover{border-color:#0097A9}.ui-image-carousel__thumbnail--active{border-color:#DA291C;box-shadow:0 0 0 2px rgba(218, 41, 28, 0.2)}@media (max-width: 599px){.ui-image-carousel__thumbnail{width:48px;height:48px}}.ui-image-carousel__placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;aspect-ratio:1;background:#F5F5F5;border-radius:0.75rem;color:#999999}.ui-image-carousel__placeholder svg{width:64px;height:64px;margin-bottom:0.5rem}.ui-image-carousel__placeholder span{font-size:0.875rem}`;const s=class{constructor(e){i(this,e)}images=[];loop=true;showNavigation=true;showIndicators=true;autoplayInterval=0;fallbackImage="";currentIndex=0;loadedImages=new Set;failedImages=new Set;autoplayTimer;touchStartX=0;touchEndX=0;onImagesChange(){this.currentIndex=0;this.loadedImages=new Set;this.failedImages=new Set;this.restartAutoplay()}componentDidLoad(){this.startAutoplay()}disconnectedCallback(){this.stopAutoplay()}startAutoplay(){if(this.autoplayInterval>0&&this.images.length>1){this.autoplayTimer=setInterval((()=>{this.goToNext()}),this.autoplayInterval)}}stopAutoplay(){if(this.autoplayTimer){clearInterval(this.autoplayTimer);this.autoplayTimer=null}}restartAutoplay(){this.stopAutoplay();this.startAutoplay()}goToSlide=i=>{const e=this.images.length;if(e===0)return;if(this.loop){if(i<0){i=e-1}else if(i>=e){i=0}}else{i=Math.max(0,Math.min(i,e-1))}this.currentIndex=i;this.restartAutoplay()};goToPrev=()=>{this.goToSlide(this.currentIndex-1)};goToNext=()=>{this.goToSlide(this.currentIndex+1)};handleTouchStart=i=>{this.touchStartX=i.touches[0].clientX;this.stopAutoplay()};handleTouchEnd=i=>{this.touchEndX=i.changedTouches[0].clientX;this.handleSwipe();this.startAutoplay()};handleSwipe(){const i=this.touchStartX-this.touchEndX;const e=50;if(Math.abs(i)>e){if(i>0){this.goToNext()}else{this.goToPrev()}}}handleImageLoad=i=>{this.loadedImages=new Set([...this.loadedImages,i])};handleImageError=(i,e)=>{this.failedImages=new Set([...this.failedImages,i]);if(this.fallbackImage){const i=e.target;i.src=this.fallbackImage}};getImageSrc(i){const e=this.images[i];if(!e&&this.fallbackImage){return this.fallbackImage}return e||""}render(){const i=this.images.length;const t=i>1;const s=this.loop||this.currentIndex>0;const o=this.loop||this.currentIndex<i-1;if(i===0){return e(a,null,e("div",{class:"ui-image-carousel"},e("div",{class:"ui-image-carousel__placeholder"},e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e("polyline",{points:"21 15 16 10 5 21"})),e("span",null,"Sin imagen"))))}return e(a,null,e("div",{class:"ui-image-carousel"},e("div",{class:"ui-image-carousel__main",onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},this.showNavigation&&t&&e("button",{class:{"ui-image-carousel__nav":true,"ui-image-carousel__nav--prev":true,"ui-image-carousel__nav--disabled":!s},onClick:this.goToPrev,disabled:!s,"aria-label":"Imagen anterior"},e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},e("polyline",{points:"15 18 9 12 15 6"}))),e("div",{class:"ui-image-carousel__track",style:{transform:`translateX(-${this.currentIndex*100}%)`}},this.images.map(((i,a)=>e("div",{class:"ui-image-carousel__slide"},e("img",{src:this.getImageSrc(a),alt:`Imagen ${a+1}`,class:{"ui-image-carousel__image":true,"ui-image-carousel__image--loaded":this.loadedImages.has(a)},onLoad:()=>this.handleImageLoad(a),onError:i=>this.handleImageError(a,i),loading:a===0?"eager":"lazy"}))))),this.showNavigation&&t&&e("button",{class:{"ui-image-carousel__nav":true,"ui-image-carousel__nav--next":true,"ui-image-carousel__nav--disabled":!o},onClick:this.goToNext,disabled:!o,"aria-label":"Imagen siguiente"},e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},e("polyline",{points:"9 18 15 12 9 6"})))),this.showIndicators&&t&&e("div",{class:"ui-image-carousel__indicators"},this.images.map(((i,a)=>e("button",{class:{"ui-image-carousel__dot":true,"ui-image-carousel__dot--active":a===this.currentIndex},onClick:()=>this.goToSlide(a),"aria-label":`Ir a imagen ${a+1}`})))),t&&e("div",{class:"ui-image-carousel__thumbnails"},this.images.map(((i,a)=>e("button",{class:{"ui-image-carousel__thumbnail":true,"ui-image-carousel__thumbnail--active":a===this.currentIndex},onClick:()=>this.goToSlide(a)},e("img",{src:i||this.fallbackImage,alt:`Miniatura ${a+1}`,loading:"lazy"})))))))}static get watchers(){return{images:["onImagesChange"]}}};s.style=t();export{s as ui_image_carousel};
//# sourceMappingURL=p-5677b6ff.entry.js.map