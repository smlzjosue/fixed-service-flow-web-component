{"file":"fixed-service-flow.js","mappings":"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","names":["FixedServiceFlow","__stencil_proxyCustomElement","HTMLElement","flowState"],"sources":["src/components/fixed-service-flow/fixed-service-flow.scss?tag=fixed-service-flow&encapsulation=shadow","src/components/fixed-service-flow/fixed-service-flow.tsx"],"sourcesContent":["// ============================================\n// FIXED SERVICE FLOW - Main Component Styles\n// ============================================\n\n@import '../../global/variables';\n@import '../../global/mixins';\n\n:host {\n  display: block;\n  width: 100%;\n  font-family: $font-family-primary;\n  color: $color-text-primary;\n  line-height: $line-height-normal;\n}\n\n// ------------------------------------------\n// CONTAINER\n// ------------------------------------------\n\n.fsf-container {\n  width: 100%;\n  // No max-width ni padding - cada step maneja su propio layout\n}\n\n// ------------------------------------------\n// LOADING STATE\n// ------------------------------------------\n\n.fsf-loading {\n  @include flex-column-center;\n  min-height: 300px;\n  padding: $spacing-8;\n\n  &__spinner {\n    width: 48px;\n    height: 48px;\n    border: 4px solid $color-gray-200;\n    border-top-color: $color-secondary;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  &__text {\n    margin-top: $spacing-4;\n    @include font-body;\n    color: $color-text-secondary;\n  }\n}\n\n// ------------------------------------------\n// ERROR STATE\n// ------------------------------------------\n\n.fsf-error {\n  @include flex-column-center;\n  min-height: 300px;\n  padding: $spacing-8;\n  text-align: center;\n\n  &__icon {\n    @include flex-center;\n    width: 64px;\n    height: 64px;\n    font-size: $font-size-2xl;\n    font-weight: $font-weight-bold;\n    color: $color-white;\n    background-color: $color-error;\n    border-radius: 50%;\n  }\n\n  &__title {\n    margin-top: $spacing-4;\n    @include font-heading-3;\n    color: $color-text-primary;\n  }\n\n  &__message {\n    margin-top: $spacing-2;\n    @include font-body;\n    color: $color-text-secondary;\n    max-width: 400px;\n  }\n\n  &__button {\n    @include button-primary;\n    margin-top: $spacing-6;\n  }\n}\n\n// ------------------------------------------\n// PLACEHOLDER (for steps in development)\n// ------------------------------------------\n\n.step-placeholder {\n  @include flex-column-center;\n  min-height: 400px;\n  padding: $spacing-8;\n  text-align: center;\n  background: $color-white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow-md;\n  margin: $spacing-4;\n\n  h2 {\n    @include font-heading-2;\n    color: $color-text-primary;\n    margin-bottom: $spacing-4;\n  }\n\n  p {\n    @include font-body;\n    color: $color-text-secondary;\n    margin-bottom: $spacing-6;\n  }\n\n  button {\n    @include button-primary;\n    margin: $spacing-2;\n\n    &:last-child {\n      @include button-secondary;\n    }\n  }\n}\n\n// ------------------------------------------\n// ANIMATIONS\n// ------------------------------------------\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n","// ============================================\n// FIXED SERVICE FLOW - Main Orchestrator Component\n// Fixed Service Flow Web Component\n// ============================================\n\nimport { Component, Prop, State, Event, EventEmitter, h, Host, Watch } from '@stencil/core';\nimport { flowState, flowActions } from '../../store/flow.store';\nimport { httpService, tokenService } from '../../services';\nimport {\n  FlowCompleteEvent,\n  FlowErrorEvent,\n  StepChangeEvent,\n  FlowStep,\n} from '../../store/interfaces';\n// @ts-ignore: STEP_TITLES reserved for future use (step header rendering)\nimport { STEP_TITLES as _STEP_TITLES } from '../../utils/constants';\n\n/**\n * CLARO HOGAR step names for clarity\n * New simplified flow: Location → Catalogue → Plans → Contract → Form → Confirmation\n * (step-product-detail eliminated - products shown in carousel with summary bar)\n */\nconst CLARO_HOGAR_STEPS = {\n  LOCATION: 1,        // Ubicación/Cobertura\n  CATALOGUE: 2,       // Catálogo de productos (carrusel + summary bar)\n  PLANS: 3,           // Planes de internet\n  CONTRACT: 4,        // Tipo de contrato\n  FORM: 5,            // Formulario de datos\n  CONFIRMATION: 6,    // Confirmación\n} as const;\n\n// Max step per flow type\nconst MAX_STEP_STANDARD = 5;\nconst MAX_STEP_CLARO_HOGAR = 6;\n\n@Component({\n  tag: 'fixed-service-flow',\n  styleUrl: 'fixed-service-flow.scss',\n  shadow: true,\n})\nexport class FixedServiceFlow {\n  // ------------------------------------------\n  // PROPS\n  // ------------------------------------------\n\n  /**\n   * Base URL for the API\n   */\n  @Prop() apiUrl!: string;\n\n  /**\n   * Google Maps API Key\n   */\n  @Prop() googleMapsKey!: string;\n\n  /**\n   * Optional correlation ID for tracking\n   */\n  @Prop() correlationId?: string;\n\n  /**\n   * Initial step (default: 1)\n   */\n  @Prop() initialStep?: FlowStep = 1;\n\n  /**\n   * Debug mode\n   */\n  @Prop() debug?: boolean = false;\n\n  // ------------------------------------------\n  // STATE\n  // ------------------------------------------\n\n  @State() currentStep: FlowStep = 1;\n  @State() isLoading: boolean = true;\n  @State() error: string | null = null;\n  @State() isInitialized: boolean = false;\n\n  // ------------------------------------------\n  // EVENTS\n  // ------------------------------------------\n\n  /**\n   * Emitted when the flow completes successfully\n   */\n  @Event() flowComplete: EventEmitter<FlowCompleteEvent>;\n\n  /**\n   * Emitted when an error occurs\n   */\n  @Event() flowError: EventEmitter<FlowErrorEvent>;\n\n  /**\n   * Emitted when user cancels the flow\n   */\n  @Event() flowCancel: EventEmitter<void>;\n\n  /**\n   * Emitted when step changes\n   */\n  @Event() stepChange: EventEmitter<StepChangeEvent>;\n\n  // ------------------------------------------\n  // WATCHERS\n  // ------------------------------------------\n\n  @Watch('apiUrl')\n  handleApiUrlChange(newValue: string) {\n    if (newValue) {\n      httpService.setBaseUrl(newValue);\n    }\n  }\n\n  // ------------------------------------------\n  // LIFECYCLE\n  // ------------------------------------------\n\n  async componentWillLoad() {\n    // Set debug mode\n    if (this.debug) {\n      (window as any).__FSF_DEBUG__ = true;\n    }\n\n    // Configure HTTP service\n    if (this.apiUrl) {\n      httpService.setBaseUrl(this.apiUrl);\n    }\n\n    // Set initial step\n    if (this.initialStep) {\n      this.currentStep = this.initialStep;\n      flowActions.setStep(this.initialStep);\n    }\n\n    // Initialize token\n    await this.initializeToken();\n  }\n\n  componentDidLoad() {\n    this.log('Component loaded');\n  }\n\n  disconnectedCallback() {\n    this.log('Component disconnected');\n    // Cleanup if needed\n  }\n\n  // ------------------------------------------\n  // INITIALIZATION\n  // ------------------------------------------\n\n  private async initializeToken(): Promise<void> {\n    this.isLoading = true;\n    this.error = null;\n\n    try {\n      const success = await tokenService.initialize();\n\n      if (!success) {\n        this.error = 'Error al inicializar la sesión';\n        this.emitError(new Error(this.error), false);\n      }\n\n      this.isInitialized = true;\n    } catch (err) {\n      this.error = err.message || 'Error de inicialización';\n      this.emitError(err, false);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  // ------------------------------------------\n  // NAVIGATION\n  // ------------------------------------------\n\n  private handleStepChange = (direction: 'forward' | 'backward') => {\n    const from = this.currentStep;\n    const maxStep = this.isClaroHogar() ? MAX_STEP_CLARO_HOGAR : MAX_STEP_STANDARD;\n    let to: FlowStep;\n\n    if (direction === 'forward') {\n      to = Math.min(this.currentStep + 1, maxStep) as FlowStep;\n      flowActions.nextStep();\n    } else {\n      to = Math.max(this.currentStep - 1, 1) as FlowStep;\n      flowActions.prevStep();\n    }\n\n    this.currentStep = to;\n    flowActions.setStep(to);\n\n    this.stepChange.emit({ from, to, direction });\n    this.log(`Step changed: ${from} -> ${to}`);\n  };\n\n  // @ts-ignore: goToStep reserved for future use (direct step navigation)\n  private _goToStep = (step: FlowStep) => {\n    const from = this.currentStep;\n    const direction = step > from ? 'forward' : 'backward';\n\n    flowActions.setStep(step);\n    this.currentStep = step;\n\n    this.stepChange.emit({ from, to: step, direction });\n    this.log(`Step changed: ${from} -> ${step}`);\n  };\n\n  // ------------------------------------------\n  // EVENT HANDLERS\n  // ------------------------------------------\n\n  private handleFlowComplete = (event: FlowCompleteEvent) => {\n    this.log('Flow completed', event);\n    this.flowComplete.emit(event);\n  };\n\n  private handleFlowCancel = () => {\n    this.log('Flow cancelled');\n    flowActions.resetFlow();\n    this.currentStep = 1;\n    flowActions.setStep(1);\n    this.flowCancel.emit();\n  };\n\n  private emitError(error: Error | string, recoverable: boolean = true) {\n    this.flowError.emit({\n      step: this.currentStep,\n      error,\n      recoverable,\n    });\n  }\n\n  // ------------------------------------------\n  // HELPERS\n  // ------------------------------------------\n\n  private log(...args: any[]) {\n    if (this.debug) {\n      console.log('[FixedServiceFlow]', ...args);\n    }\n  }\n\n  /**\n   * Checks if the current flow is for CLARO HOGAR (wireless internet)\n   */\n  private isClaroHogar(): boolean {\n    const serviceType = flowState.location?.serviceType?.toUpperCase();\n    return serviceType === 'CLARO HOGAR';\n  }\n\n  // ------------------------------------------\n  // RENDER\n  // ------------------------------------------\n\n  private renderStep() {\n    const stepProps = {\n      onNext: () => this.handleStepChange('forward'),\n      onBack: () => this.handleStepChange('backward'),\n      onComplete: this.handleFlowComplete,\n      googleMapsKey: this.googleMapsKey,\n    };\n\n    // CLARO HOGAR Flow (e-commerce)\n    if (this.isClaroHogar()) {\n      this.log('CLARO HOGAR flow - step:', this.currentStep);\n      return this.renderClaroHogarStep(stepProps);\n    }\n\n    // Standard Flow (GPON/VRAD - internet service request)\n    return this.renderStandardStep(stepProps);\n  }\n\n  /**\n   * Renders steps for Standard Flow (GPON/VRAD)\n   * Steps: 1.Location -> 2.Plans -> 3.Contract -> 4.Form -> 5.Confirmation\n   */\n  private renderStandardStep(stepProps: any) {\n    switch (this.currentStep) {\n      case 1:\n        return <step-location {...stepProps} />;\n      case 2:\n        return <step-plans {...stepProps} />;\n      case 3:\n        return <step-contract {...stepProps} />;\n      case 4:\n        return <step-form {...stepProps} />;\n      case 5:\n        return <step-confirmation {...stepProps} onCancel={this.handleFlowCancel} />;\n      default:\n        return null;\n    }\n  }\n\n  /**\n   * Renders steps for CLARO HOGAR Flow (simplified)\n   * Steps: 1.Location -> 2.Catalogue (carousel+summary) -> 3.Plans ->\n   *        4.Contract -> 5.Form -> 6.Confirmation\n   * Note: step-product-detail was eliminated - products now in carousel with inline selection\n   */\n  private renderClaroHogarStep(stepProps: any) {\n    switch (this.currentStep) {\n      case CLARO_HOGAR_STEPS.LOCATION:\n        return <step-location {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.CATALOGUE:\n        // Carousel with product cards + summary bar (new design)\n        return <step-catalogue {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.PLANS:\n        // Plans for the selected modem/product\n        return <step-plans {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.CONTRACT:\n        return <step-contract {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.FORM:\n        return <step-form {...stepProps} />;\n\n      case CLARO_HOGAR_STEPS.CONFIRMATION:\n        return <step-confirmation {...stepProps} onCancel={this.handleFlowCancel} />;\n\n      default:\n        return null;\n    }\n  }\n\n  private renderLoading() {\n    return (\n      <div class=\"fsf-loading\">\n        <div class=\"fsf-loading__spinner\"></div>\n        <p class=\"fsf-loading__text\">Cargando...</p>\n      </div>\n    );\n  }\n\n  private renderError() {\n    return (\n      <div class=\"fsf-error\">\n        <div class=\"fsf-error__icon\">!</div>\n        <h3 class=\"fsf-error__title\">Error</h3>\n        <p class=\"fsf-error__message\">{this.error}</p>\n        <button class=\"fsf-error__button\" onClick={() => this.initializeToken()}>\n          Reintentar\n        </button>\n      </div>\n    );\n  }\n\n  render() {\n    // Show loading state\n    if (this.isLoading) {\n      return (\n        <Host>\n          {this.renderLoading()}\n        </Host>\n      );\n    }\n\n    // Show error state\n    if (this.error && !this.isInitialized) {\n      return (\n        <Host>\n          {this.renderError()}\n        </Host>\n      );\n    }\n\n    // Render flow\n    return (\n      <Host>\n        <div class=\"fsf-container\">\n          {this.renderStep()}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}