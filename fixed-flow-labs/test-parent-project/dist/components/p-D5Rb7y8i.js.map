{"file":"p-D5Rb7y8i.js","mappings":"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","names":["__stencil_proxyCustomElement","HTMLElement","flowState"],"sources":["src/services/request.service.ts","src/components/steps/step-confirmation/step-confirmation.scss?tag=step-confirmation&encapsulation=shadow","src/components/steps/step-confirmation/step-confirmation.tsx"],"sourcesContent":["// ============================================\n// REQUEST SERVICE - Service Request Submission\n// Fixed Service Flow Web Component\n// ============================================\n\nimport { httpService } from './http.service';\nimport { tokenService } from './token.service';\nimport {\n  RequestResponse,\n  OrderDetailsResponse,\n  ConfirmationResponse,\n  ServiceRequestPayload,\n  FormData as CustomerFormData,\n  SelectedContract,\n  Plan,\n  LocationData,\n} from '../store/interfaces';\n\n// ------------------------------------------\n// REQUEST SERVICE CLASS\n// ------------------------------------------\n\nclass RequestService {\n  // ------------------------------------------\n  // SUBMIT REQUEST\n  // ------------------------------------------\n\n  /**\n   * Submits the service request\n   * Endpoint: POST api/Orders/internetServiceRequest\n   */\n  async submitRequest(payload: ServiceRequestPayload): Promise<RequestResponse> {\n    // Ensure token exists before making the call\n    await tokenService.ensureToken();\n\n    // Build FormData\n    const formData = new FormData();\n\n    // Add all fields to FormData\n    Object.entries(payload).forEach(([key, value]) => {\n      if (value !== undefined && value !== null) {\n        formData.append(key, String(value));\n      }\n    });\n\n    const response = await httpService.postFormData<RequestResponse>(\n      'api/Orders/internetServiceRequest',\n      formData,\n    );\n\n    return response;\n  }\n\n  // ------------------------------------------\n  // GET ORDER DETAILS\n  // ------------------------------------------\n\n  /**\n   * Gets order details after successful submission\n   * Endpoint: GET api/Orders/getOrder?orderId={orderId}\n   * Source: TEL - frontend/src/app/internet/services/plans.service.ts\n   */\n  async getOrder(orderId: string): Promise<OrderDetailsResponse> {\n    await tokenService.ensureToken();\n\n    const response = await httpService.get<OrderDetailsResponse>(\n      `api/Orders/getOrder?orderId=${encodeURIComponent(orderId)}`,\n    );\n\n    return response;\n  }\n\n  // ------------------------------------------\n  // SEND CONFIRMATION EMAIL\n  // ------------------------------------------\n\n  /**\n   * Sends confirmation email to customer\n   * Endpoint: POST api/Orders/sendConfirmation\n   * Source: TEL - frontend/src/app/internet/services/plans.service.ts\n   */\n  async sendConfirmation(orderId: string, email: string): Promise<ConfirmationResponse> {\n    await tokenService.ensureToken();\n\n    const formData = new FormData();\n    formData.append('orderId', orderId);\n    formData.append('email', email);\n\n    const response = await httpService.postFormData<ConfirmationResponse>(\n      'api/Orders/sendConfirmation',\n      formData,\n    );\n\n    return response;\n  }\n\n  // ------------------------------------------\n  // BUILD PAYLOAD\n  // ------------------------------------------\n\n  /**\n   * Builds the request payload from flow data\n   */\n  buildPayload(\n    formData: CustomerFormData,\n    contract: SelectedContract,\n    plan: Plan,\n    location: LocationData,\n  ): ServiceRequestPayload {\n    return {\n      // Contract type\n      type: contract.typeId,\n\n      // Personal data\n      name: formData.personal.firstName,\n      second_name: formData.personal.secondName || '',\n      last_name: formData.personal.lastName,\n      second_surname: formData.personal.secondLastName,\n      // date_birth: Campo requerido por el backend pero no recolectado en el formulario empresarial.\n      // Se envía fecha por defecto. TODO: Discutir con backend si es necesario para flujo empresarial.\n      date_birth: formData.personal.birthDate || '1990-01-01',\n      email: formData.personal.email,\n      telephone1: formData.personal.phone1,\n      telephone2: formData.personal.phone2 || '',\n\n      // Address\n      zipCode: formData.address.zipCode,\n      address: formData.address.address,\n      city: formData.address.city,\n\n      // Identification\n      id_type: formData.personal.identificationType === 'license' ? '1' : '2',\n      id: formData.personal.identificationNumber,\n      identification_expiration: formData.personal.identificationExpiration,\n\n      // Flow tracking\n      frontFlowId: this.generateFlowId(),\n\n      // Plan details\n      plan_id: String(plan.planId),\n      plan_name: plan.planName,\n\n      // Contract details\n      deadlines: String(contract.deadlines),\n      installation: String(contract.installation),\n      activation: String(contract.activation),\n      moden: String(contract.modem),\n\n      // Customer status - Backend espera booleano, no string\n      claro_customer: formData.isExistingCustomer,\n\n      // Location\n      latitud: String(location.latitude),\n      longitud: String(location.longitude),\n\n      // Business data (optional)\n      business_name: formData.business.businessName,\n      business_position: formData.business.position,\n    };\n  }\n\n  // ------------------------------------------\n  // HELPER METHODS\n  // ------------------------------------------\n\n  /**\n   * Generates a unique flow ID for tracking\n   */\n  private generateFlowId(): string {\n    return `FSF-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  /**\n   * Validates that all required data is present before submission\n   */\n  validateSubmissionData(\n    formData: CustomerFormData | null,\n    contract: SelectedContract | null,\n    plan: Plan | null,\n    location: LocationData | null,\n  ): { isValid: boolean; missingFields: string[] } {\n    const missingFields: string[] = [];\n\n    if (!location) {\n      missingFields.push('location');\n    }\n\n    if (!plan) {\n      missingFields.push('plan');\n    }\n\n    if (!contract) {\n      missingFields.push('contract');\n    }\n\n    if (!formData) {\n      missingFields.push('formData');\n    } else {\n      // Validate personal data\n      if (!formData.personal.firstName) missingFields.push('firstName');\n      if (!formData.personal.lastName) missingFields.push('lastName');\n      if (!formData.personal.secondLastName) missingFields.push('secondLastName');\n      if (!formData.personal.identificationNumber) missingFields.push('identificationNumber');\n      if (!formData.personal.identificationExpiration) missingFields.push('identificationExpiration');\n      if (!formData.personal.phone1) missingFields.push('phone1');\n      if (!formData.personal.email) missingFields.push('email');\n\n      // Validate business data\n      if (!formData.business.businessName) missingFields.push('businessName');\n      if (!formData.business.position) missingFields.push('position');\n\n      // Validate address\n      if (!formData.address.address) missingFields.push('address');\n      if (!formData.address.city) missingFields.push('city');\n      if (!formData.address.zipCode) missingFields.push('zipCode');\n    }\n\n    return {\n      isValid: missingFields.length === 0,\n      missingFields,\n    };\n  }\n}\n\n// ------------------------------------------\n// SINGLETON EXPORT\n// ------------------------------------------\n\nexport const requestService = new RequestService();\nexport default requestService;\n","// ============================================\n// STEP CONFIRMATION - Styles\n// ============================================\n\n@import '../../../global/variables';\n@import '../../../global/mixins';\n\n:host {\n  display: block;\n}\n\n.step-confirmation {\n  width: 100%;\n\n  // ------------------------------------------\n  // HEADER\n  // ------------------------------------------\n\n  &__header {\n    margin-bottom: $spacing-6;\n    padding-bottom: $spacing-4;\n    position: relative;\n\n    // Full viewport width divider using pseudo-element\n    &::after {\n      content: '';\n      position: absolute;\n      bottom: 0;\n      left: 50%;\n      transform: translateX(-50%);\n      width: 100vw;\n      height: 1px;\n      background: $color-border-light;\n    }\n  }\n\n  &__header-title {\n    @include font-heading-2;\n    color: $color-text-primary;\n  }\n\n  // ------------------------------------------\n  // CONTENT\n  // ------------------------------------------\n\n  &__content {\n    @include card;\n    padding: $spacing-12 $spacing-8;\n    text-align: center;\n    min-height: 300px;\n    @include flex-column-center;\n  }\n\n  // ------------------------------------------\n  // LOADING\n  // ------------------------------------------\n\n  &__loading {\n    @include flex-column-center;\n\n    p {\n      margin-top: $spacing-4;\n      @include font-body;\n      color: $color-text-secondary;\n    }\n  }\n\n  &__spinner {\n    width: 48px;\n    height: 48px;\n    border: 4px solid $color-gray-200;\n    border-top-color: $color-secondary;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  // ------------------------------------------\n  // RESULT\n  // ------------------------------------------\n\n  &__result {\n    @include flex-column-center;\n    width: 100%;\n    max-width: 500px;\n  }\n\n  &__icon {\n    @include flex-center;\n    margin-bottom: $spacing-4;\n\n    img {\n      width: 48px;\n      height: 48px;\n    }\n\n    svg {\n      width: 40px;\n      height: 40px;\n    }\n\n    &--success {\n      // No background - using SVG icon\n    }\n\n    &--error {\n      // No background - using SVG icon\n    }\n  }\n\n  &__title {\n    @include font-heading-3;\n    color: $color-text-primary;\n    margin-bottom: $spacing-2;\n\n    &--success {\n      color: #15A045;\n    }\n\n    &--error {\n      color: #E00814;\n    }\n  }\n\n  &__message {\n    @include font-body;\n    color: $color-text-secondary;\n    margin-bottom: $spacing-6;\n  }\n\n  &__order-id {\n    @include font-body-small;\n    color: $color-text-secondary;\n    margin-bottom: $spacing-6;\n    padding: $spacing-2 $spacing-4;\n    background: $color-gray-50;\n    border-radius: $border-radius-md;\n  }\n\n  &__actions {\n    margin-top: $spacing-6;\n    text-align: center;\n  }\n\n  &__btn {\n    @include button-outline;\n    min-width: 180px;\n\n    &--error {\n      @include button-primary;\n    }\n  }\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n","// ============================================\n// STEP CONFIRMATION - Confirmation/Result Step\n// Fixed Service Flow Web Component\n// Supports both Internet and CLARO HOGAR catalogue flows\n// ============================================\n\nimport { Component, Prop, State, h, Host } from '@stencil/core';\nimport { flowState, flowActions } from '../../../store/flow.store';\nimport { requestService, paymentService, cartService, productService, shippingService, plansService } from '../../../services';\nimport { FlowCompleteEvent } from '../../../store/interfaces';\nimport { SUCCESS_MESSAGES, ERROR_MESSAGES } from '../../../utils/constants';\n\n@Component({\n  tag: 'step-confirmation',\n  styleUrl: 'step-confirmation.scss',\n  shadow: true,\n})\nexport class StepConfirmation {\n  // ------------------------------------------\n  // PROPS\n  // ------------------------------------------\n\n  @Prop() onComplete: (event: FlowCompleteEvent) => void;\n  @Prop() onCancel: () => void;\n  @Prop() onBack: () => void;\n\n  // ------------------------------------------\n  // STATE\n  // ------------------------------------------\n\n  @State() status: 'loading' | 'success' | 'error' = 'loading';\n  @State() orderId: string | null = null;\n  @State() orderNumber: string | null = null;\n  @State() confirmationSent: boolean = false;\n  @State() errorMessage: string = '';\n\n  // ------------------------------------------\n  // LIFECYCLE\n  // ------------------------------------------\n\n  /**\n   * Sync lifecycle - No async operations here\n   * This allows the first render to happen immediately with status = 'loading'\n   * showing the loader to the user\n   */\n  componentWillLoad() {\n    // El loader ya se muestra porque status = 'loading' por defecto\n    // No hacer operaciones async aqui para que el render ocurra inmediatamente\n  }\n\n  /**\n   * Called after first render - Safe to do async operations\n   * The loader is already visible at this point\n   */\n  componentDidLoad() {\n    // Ahora que el componente esta montado y el loader visible,\n    // iniciar el procesamiento de la solicitud\n    this.initializeConfirmation();\n  }\n\n  /**\n   * Initialize confirmation - async operations after component is mounted\n   */\n  private async initializeConfirmation() {\n    // Check if this is a catalogue flow (CLARO HOGAR) or internet flow\n    // Catalogue flow: has payment result but no contract/formData\n    // Internet flow: has contract and formData\n    const isCatalogueFlow = this.isCatalogueFlow();\n\n    if (isCatalogueFlow) {\n      await this.handleCatalogueFlowConfirmation();\n    } else {\n      await this.submitRequest();\n    }\n  }\n\n  /**\n   * Determines if this is a catalogue/equipment flow (CLARO HOGAR)\n   * vs an internet service flow\n   */\n  private isCatalogueFlow(): boolean {\n    // Catalogue flow has payment result stored but no contract/formData\n    const paymentResult = paymentService.getPaymentResult();\n    const hasContract = !!flowState.selectedContract;\n    const hasFormData = !!flowState.formData;\n\n    // If we have payment result but no contract/formData, it's catalogue flow\n    return !!paymentResult && !hasContract && !hasFormData;\n  }\n\n  /**\n   * Handles confirmation for catalogue/equipment flow (CLARO HOGAR)\n   * The purchase is already complete after payment - just show success\n   */\n  private async handleCatalogueFlowConfirmation() {\n    this.status = 'loading';\n\n    try {\n      const paymentResult = paymentService.getPaymentResult();\n\n      if (!paymentResult || !paymentResult.success) {\n        throw new Error('No se encontró información del pago');\n      }\n\n      // Get order BAN from payment service\n      const orderBan = paymentService.getOrderBan();\n\n      // For catalogue flow, the orderId comes from the payment process\n      this.orderId = orderBan || paymentResult.operationId || null;\n\n      console.log('[StepConfirmation] Catalogue flow - payment success:', {\n        orderId: this.orderId,\n        operationId: paymentResult.operationId,\n        authorizationNumber: paymentResult.authorizationNumber,\n      });\n\n      // Mark as success\n      this.status = 'success';\n\n      // Store result\n      flowActions.setOrderResult(this.orderId, null);\n\n      // Emit complete event with available data\n      this.onComplete?.({\n        orderId: this.orderId!,\n        plan: flowState.selectedPlan!,\n        contract: null as any, // Not applicable for catalogue flow\n        customer: null as any, // Customer data came from shipping form\n        location: flowState.location!,\n      });\n\n    } catch (error) {\n      console.error('[StepConfirmation] Catalogue flow error:', error);\n      this.status = 'error';\n      this.errorMessage = error.message || ERROR_MESSAGES.REQUEST_ERROR;\n      flowActions.setOrderResult(null, this.errorMessage);\n    }\n  }\n\n  // ------------------------------------------\n  // METHODS\n  // ------------------------------------------\n\n  private async submitRequest() {\n    this.status = 'loading';\n\n    try {\n      const { location, plan, contract, formData } = {\n        location: flowState.location,\n        plan: flowState.selectedPlan,\n        contract: flowState.selectedContract,\n        formData: flowState.formData,\n      };\n\n      // Validate all data exists\n      const validation = requestService.validateSubmissionData(formData, contract, plan, location);\n\n      if (!validation.isValid) {\n        throw new Error(`Datos incompletos: ${validation.missingFields.join(', ')}`);\n      }\n\n      // Build and submit payload\n      const payload = requestService.buildPayload(formData!, contract!, plan!, location!);\n      const response = await requestService.submitRequest(payload);\n\n      if (response.hasError) {\n        throw new Error(response.errorDisplay || response.message || ERROR_MESSAGES.REQUEST_ERROR);\n      }\n\n      // Success - store orderId\n      this.orderId = response.orderId || null;\n\n      // Get order details (async, don't block on failure)\n      if (this.orderId) {\n        this.fetchOrderDetails(this.orderId);\n        // Send confirmation email (async, don't block on failure)\n        this.sendConfirmationEmail(this.orderId, formData!.personal.email);\n      }\n\n      // Mark as success\n      this.status = 'success';\n\n      // Store result\n      flowActions.setOrderResult(this.orderId, null);\n\n      // Emit complete event\n      this.onComplete?.({\n        orderId: this.orderId!,\n        plan: plan!,\n        contract: contract!,\n        customer: formData!,\n        location: location!,\n      });\n\n    } catch (error) {\n      console.error('Request submission failed:', error);\n      this.status = 'error';\n      this.errorMessage = error.message || ERROR_MESSAGES.REQUEST_ERROR;\n      flowActions.setOrderResult(null, this.errorMessage);\n    }\n  }\n\n  /**\n   * Fetches order details after successful submission\n   * Non-blocking - errors are logged but don't affect UI\n   */\n  private async fetchOrderDetails(orderId: string) {\n    try {\n      const orderDetails = await requestService.getOrder(orderId);\n      if (!orderDetails.hasError && orderDetails.orderNumber) {\n        this.orderNumber = orderDetails.orderNumber;\n      }\n    } catch (error) {\n      // Non-critical - just log the error\n      console.warn('Could not fetch order details:', error);\n    }\n  }\n\n  /**\n   * Sends confirmation email to customer\n   * Non-blocking - errors are logged but don't affect UI\n   */\n  private async sendConfirmationEmail(orderId: string, email: string) {\n    try {\n      const confirmationResult = await requestService.sendConfirmation(orderId, email);\n      if (!confirmationResult.hasError && confirmationResult.sent) {\n        this.confirmationSent = true;\n      }\n    } catch (error) {\n      // Non-critical - just log the error\n      console.warn('Could not send confirmation email:', error);\n    }\n  }\n\n  private handleRetry = () => {\n    this.submitRequest();\n  };\n\n  private handleClose = () => {\n    // Clear all sessionStorage data (following TEL pattern)\n    this.clearSessionStorage();\n\n    // Reset flow state\n    flowActions.resetFlow();\n\n    // Notify parent\n    this.onCancel?.();\n  };\n\n  /**\n   * Clears all flow-related sessionStorage keys\n   * Calls clear methods from all services and removes all known keys\n   */\n  private clearSessionStorage() {\n    console.log('[StepConfirmation] Clearing all sessionStorage data');\n\n    // Clear using service methods (they handle their own keys)\n    try {\n      cartService.clearCartSession();\n      productService.clearProductSession();\n      shippingService.clearShippingData();\n      paymentService.clearPaymentData();\n      plansService.clearPlan();\n      flowActions.clearToken();\n    } catch (e) {\n      console.warn('[StepConfirmation] Error clearing service data:', e);\n    }\n\n    // Also clear all known keys directly to ensure complete cleanup\n    const keysToRemove = [\n      // Token/Auth\n      'token',\n      'correlationId',\n      // Location data (Base64 encoded)\n      'latitud',\n      'longitud',\n      'planCodeInternet',\n      // Plan data\n      'plan',\n      'planId',\n      'planPrice',\n      // Contract data\n      'typeContractId',\n      'contractInstallment',\n      'contractInstallation',\n      'contractActivation',\n      'contractModen',\n      // Cart data\n      'cart',\n      'cartId',\n      'cartTotal',\n      'cartProducts',\n      'mainId',\n      'discountCoupon',\n      // Product data\n      'selectedProduct',\n      'productId',\n      'subcatalogId',\n      'selectedColor',\n      'selectedStorage',\n      'childrenId',\n      'parentId',\n      'deviceType',\n      // Shipping data\n      'shipmentId',\n      'zipCode',\n      'shippingAddress',\n      'deliveryMethod',\n      // Payment data\n      'orderBan',\n      'paymentResult',\n      // Legacy keys (TEL pattern)\n      'serviceLatitude',\n      'serviceLongitude',\n      'serviceAddress',\n      'serviceCity',\n      'serviceZipCode',\n      'serviceType',\n      'serviceMessage',\n      'planName',\n      'planSoc',\n      'planFeatures',\n      'customerFirstName',\n      'customerSecondName',\n      'customerLastName',\n      'customerSecondLastName',\n      'customerIdType',\n      'customerIdNumber',\n      'customerIdExpiration',\n      'customerPhone1',\n      'customerPhone2',\n      'customerEmail',\n      'customerBirthDate',\n      'businessName',\n      'businessPosition',\n      'isExistingCustomer',\n      'shoppingCart',\n    ];\n\n    keysToRemove.forEach(key => {\n      sessionStorage.removeItem(key);\n    });\n\n    console.log('[StepConfirmation] SessionStorage cleared successfully');\n  }\n\n  // ------------------------------------------\n  // RENDER\n  // ------------------------------------------\n\n  private renderLoading() {\n    return (\n      <div class=\"step-confirmation__loading\">\n        <div class=\"step-confirmation__spinner\"></div>\n        <p>Procesando tu solicitud...</p>\n      </div>\n    );\n  }\n\n  private renderSuccess() {\n    // Prefer orderNumber from getOrder API, fallback to orderId from submit response\n    const displayOrderId = this.orderNumber || this.orderId;\n\n    return (\n      <div class=\"step-confirmation__result step-confirmation__result--success\">\n        <div class=\"step-confirmation__icon step-confirmation__icon--success\">\n          <svg width=\"49\" height=\"48\" viewBox=\"0 0 49 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M24.4237 2C12.0492 2 2 11.8441 2 23.9661C2 36.0881 12.0492 45.9322 24.4237 45.9322C36.7983 45.9322 46.8475 36.0881 46.8475 23.9661\" stroke=\"#0EA651\" stroke-width=\"4\" stroke-miterlimit=\"10\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M44.5225 4.19666L21.1852 30.8L12.3818 22.2577\" stroke=\"#0EA651\" stroke-width=\"4\" stroke-miterlimit=\"10\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>\n        </div>\n        <h2 class=\"step-confirmation__title step-confirmation__title--success\">{SUCCESS_MESSAGES.REQUEST_SUCCESS}</h2>\n        <p class=\"step-confirmation__message\">{SUCCESS_MESSAGES.REQUEST_SUCCESS_SUBTITLE}</p>\n        {displayOrderId && (\n          <p class=\"step-confirmation__order-id\">Número de orden: {displayOrderId}</p>\n        )}\n        {this.confirmationSent && (\n          <p class=\"step-confirmation__email-sent\">\n            Se ha enviado un correo de confirmación a tu email.\n          </p>\n        )}\n      </div>\n    );\n  }\n\n  private renderError() {\n    return (\n      <div class=\"step-confirmation__result step-confirmation__result--error\">\n        <div class=\"step-confirmation__icon step-confirmation__icon--error\">\n          <svg width=\"49\" height=\"49\" viewBox=\"0 0 49 49\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M24.5 0C38.0096 9.05167e-07 49 10.9899 49 24.5C49 38.0101 38.0096 49 24.5 49C10.9904 49 0 38.0101 0 24.5C0 10.9899 10.99 0 24.5 0ZM24.5 3.78516C13.0775 3.78516 3.78418 13.0774 3.78418 24.5C3.78418 35.9215 13.0774 45.2148 24.5 45.2148C35.9225 45.2148 45.2158 35.922 45.2158 24.5C45.2158 13.078 35.9225 3.78516 24.5 3.78516ZM24.5 31.8809C25.5449 31.8809 26.3915 32.7276 26.3916 33.7725V35.3486C26.3916 36.3936 25.5449 37.2412 24.5 37.2412C23.4551 37.2412 22.6084 36.3936 22.6084 35.3486V33.7725C22.6085 32.7276 23.4551 31.8809 24.5 31.8809ZM24.5 11.7588C25.5449 11.7588 26.3915 12.6055 26.3916 13.6504V27.7725C26.3916 28.8174 25.5449 29.6641 24.5 29.6641C23.4551 29.6641 22.6084 28.8174 22.6084 27.7725V13.6504C22.6085 12.6055 23.4551 11.7588 24.5 11.7588Z\" fill=\"#B41E13\"/>\n          </svg>\n        </div>\n        <h2 class=\"step-confirmation__title step-confirmation__title--error\">\n          ¡Lo sentimos, ha ocurrido un error en el proceso de solicitud!\n        </h2>\n        <p class=\"step-confirmation__message\">\n          En este momento estamos presentando inconvenientes en nuestro sistema.\n          <br />\n          Por favor, inténtalo nuevamente.\n        </p>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"step-confirmation\">\n          <header class=\"step-confirmation__header\">\n            <h1 class=\"step-confirmation__header-title\">Confirmación de Solicitud</h1>\n          </header>\n\n          <div class=\"step-confirmation__content\">\n            {this.status === 'loading' && this.renderLoading()}\n            {this.status === 'success' && this.renderSuccess()}\n            {this.status === 'error' && this.renderError()}\n          </div>\n\n          {this.status === 'success' && (\n            <div class=\"step-confirmation__actions\">\n              <button class=\"step-confirmation__btn\" onClick={this.handleClose}>\n                Cerrar\n              </button>\n            </div>\n          )}\n\n          {this.status === 'error' && (\n            <div class=\"step-confirmation__actions\">\n              <button class=\"step-confirmation__btn step-confirmation__btn--error\" onClick={this.handleRetry}>\n                Volver a intentar\n              </button>\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}