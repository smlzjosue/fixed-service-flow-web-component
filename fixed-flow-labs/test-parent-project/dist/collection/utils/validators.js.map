{"version":3,"file":"validators.js","sourceRoot":"","sources":["../../src/utils/validators.ts"],"names":[],"mappings":"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","sourcesContent":["// ============================================\n// VALIDATORS - Form Validation Utilities\n// Fixed Service Flow Web Component\n// ============================================\n\n// ------------------------------------------\n// TYPES\n// ------------------------------------------\n\nexport interface ValidationResult {\n  isValid: boolean;\n  message: string;\n}\n\nexport type ValidatorFn = (value: string) => ValidationResult;\n\n// ------------------------------------------\n// VALIDATION MESSAGES\n// ------------------------------------------\n\nexport const VALIDATION_MESSAGES = {\n  required: 'Este campo es requerido',\n  minLength: (min: number) => `Debe tener al menos ${min} caracteres`,\n  maxLength: (max: number) => `No puede exceder ${max} caracteres`,\n  email: 'Ingrese un correo electrónico válido',\n  phone: 'Ingrese un número de teléfono válido (10 dígitos)',\n  zipCode: 'Ingrese un código postal válido (5 dígitos)',\n  date: 'Ingrese una fecha válida',\n  futureDate: 'La fecha debe ser futura',\n  identification: 'La identificación debe tener al menos 10 caracteres',\n  numeric: 'Solo se permiten números',\n  alphanumeric: 'Solo se permiten letras y números',\n};\n\n// ------------------------------------------\n// VALIDATION FUNCTIONS\n// ------------------------------------------\n\n/**\n * Creates a successful validation result\n */\nexport const valid = (): ValidationResult => ({\n  isValid: true,\n  message: '',\n});\n\n/**\n * Creates a failed validation result\n */\nexport const invalid = (message: string): ValidationResult => ({\n  isValid: false,\n  message,\n});\n\n/**\n * Required field validator\n */\nexport const required: ValidatorFn = (value: string): ValidationResult => {\n  if (!value || value.trim() === '') {\n    return invalid(VALIDATION_MESSAGES.required);\n  }\n  return valid();\n};\n\n/**\n * Minimum length validator\n */\nexport const minLength = (min: number): ValidatorFn => {\n  return (value: string): ValidationResult => {\n    if (value && value.length < min) {\n      return invalid(VALIDATION_MESSAGES.minLength(min));\n    }\n    return valid();\n  };\n};\n\n/**\n * Maximum length validator\n */\nexport const maxLength = (max: number): ValidatorFn => {\n  return (value: string): ValidationResult => {\n    if (value && value.length > max) {\n      return invalid(VALIDATION_MESSAGES.maxLength(max));\n    }\n    return valid();\n  };\n};\n\n/**\n * Email validator\n */\nexport const email: ValidatorFn = (value: string): ValidationResult => {\n  if (!value) return valid();\n\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  if (!emailRegex.test(value)) {\n    return invalid(VALIDATION_MESSAGES.email);\n  }\n  return valid();\n};\n\n/**\n * Phone number validator (Puerto Rico format - 10 digits)\n */\nexport const phone: ValidatorFn = (value: string): ValidationResult => {\n  if (!value) return valid();\n\n  // Remove non-digit characters\n  const digits = value.replace(/\\D/g, '');\n  if (digits.length !== 10) {\n    return invalid(VALIDATION_MESSAGES.phone);\n  }\n  return valid();\n};\n\n/**\n * Zip code validator (5 digits)\n */\nexport const zipCode: ValidatorFn = (value: string): ValidationResult => {\n  if (!value) return valid();\n\n  const zipRegex = /^\\d{5}$/;\n  if (!zipRegex.test(value)) {\n    return invalid(VALIDATION_MESSAGES.zipCode);\n  }\n  return valid();\n};\n\n/**\n * Date validator (YYYY-MM-DD format)\n */\nexport const date: ValidatorFn = (value: string): ValidationResult => {\n  if (!value) return valid();\n\n  const dateRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\n  if (!dateRegex.test(value)) {\n    return invalid(VALIDATION_MESSAGES.date);\n  }\n\n  const dateObj = new Date(value);\n  if (isNaN(dateObj.getTime())) {\n    return invalid(VALIDATION_MESSAGES.date);\n  }\n\n  return valid();\n};\n\n/**\n * Future date validator\n */\nexport const futureDate: ValidatorFn = (value: string): ValidationResult => {\n  if (!value) return valid();\n\n  const dateResult = date(value);\n  if (!dateResult.isValid) return dateResult;\n\n  const dateObj = new Date(value);\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n\n  if (dateObj <= today) {\n    return invalid(VALIDATION_MESSAGES.futureDate);\n  }\n\n  return valid();\n};\n\n/**\n * Identification validator (min 10 characters)\n */\nexport const identification: ValidatorFn = (value: string): ValidationResult => {\n  if (!value) return valid();\n\n  if (value.length < 10) {\n    return invalid(VALIDATION_MESSAGES.identification);\n  }\n  return valid();\n};\n\n/**\n * Numeric only validator\n */\nexport const numeric: ValidatorFn = (value: string): ValidationResult => {\n  if (!value) return valid();\n\n  const numericRegex = /^\\d+$/;\n  if (!numericRegex.test(value)) {\n    return invalid(VALIDATION_MESSAGES.numeric);\n  }\n  return valid();\n};\n\n// ------------------------------------------\n// COMPOSITE VALIDATORS\n// ------------------------------------------\n\n/**\n * Combines multiple validators\n */\nexport const compose = (...validators: ValidatorFn[]): ValidatorFn => {\n  return (value: string): ValidationResult => {\n    for (const validator of validators) {\n      const result = validator(value);\n      if (!result.isValid) {\n        return result;\n      }\n    }\n    return valid();\n  };\n};\n\n// ------------------------------------------\n// FIELD VALIDATORS (Pre-configured)\n// ------------------------------------------\n\nexport const fieldValidators = {\n  firstName: compose(required, minLength(3)),\n  lastName: compose(required, minLength(3)),\n  secondLastName: compose(required, minLength(3)),\n  identificationNumber: compose(required, identification),\n  identificationExpiration: compose(required, futureDate),\n  phone1: compose(required, phone),\n  phone2: phone, // Optional\n  email: compose(required, email),\n  businessName: required,\n  position: required,\n  address: required,\n  city: required,\n  zipCode: compose(required, zipCode),\n};\n\n// ------------------------------------------\n// FORM VALIDATION\n// ------------------------------------------\n\nexport interface FieldError {\n  field: string;\n  message: string;\n}\n\n/**\n * Validates a form object against field validators\n */\nexport const validateForm = (\n  data: Record<string, string>,\n  validators: Record<string, ValidatorFn>,\n): { isValid: boolean; errors: FieldError[] } => {\n  const errors: FieldError[] = [];\n\n  for (const [field, validator] of Object.entries(validators)) {\n    const value = data[field] || '';\n    const result = validator(value);\n    if (!result.isValid) {\n      errors.push({ field, message: result.message });\n    }\n  }\n\n  return {\n    isValid: errors.length === 0,\n    errors,\n  };\n};\n"]}