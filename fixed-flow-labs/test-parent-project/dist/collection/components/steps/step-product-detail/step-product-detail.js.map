{"version":3,"file":"step-product-detail.js","sourceRoot":"","sources":["../../../../src/components/steps/step-product-detail/step-product-detail.tsx"],"names":[],"mappings":"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","sourcesContent":["// ============================================\n// STEP PRODUCT DETAIL - Equipment Detail for CLARO HOGAR\n// Fixed Service Flow Web Component\n// Design based on TEL product-web.component\n// ============================================\n\nimport { Component, Prop, State, h, Host } from '@stencil/core';\nimport { productService } from '../../../services/product.service';\nimport { cartService } from '../../../services/cart.service';\nimport { catalogueService } from '../../../services';\nimport { ProductDetail, CatalogueProduct } from '../../../store/interfaces';\n\ninterface ColorOption {\n  colorId: number;\n  colorName: string;\n  webColor: string;\n  productId?: number;\n  imgUrl?: string;\n}\n\ninterface StorageOption {\n  storageId: number;\n  storageName: string;\n  productId?: number;\n  price?: number;\n}\n\ninterface InstallmentOption {\n  months: number;\n  monthlyPrice: number;\n  totalPrice: number;\n}\n\n@Component({\n  tag: 'step-product-detail',\n  styleUrl: 'step-product-detail.scss',\n  shadow: true,\n})\nexport class StepProductDetail {\n  // ------------------------------------------\n  // PROPS\n  // ------------------------------------------\n\n  @Prop() onNext: () => void;\n  @Prop() onBack: () => void;\n\n  // ------------------------------------------\n  // STATE\n  // ------------------------------------------\n\n  @State() product: ProductDetail | null = null;\n  @State() catalogueProduct: CatalogueProduct | null = null;\n  @State() isLoading: boolean = true;\n  @State() error: string | null = null;\n  @State() isAddingToCart: boolean = false;\n\n  // Selection states\n  @State() selectedColorIndex: number = 0;\n  @State() selectedStorageIndex: number = 0;\n  @State() selectedInstallments: number = 36;\n  @State() quantity: number = 1;\n\n  // Availability state\n  @State() isAvailable: boolean = true;\n  @State() showUnavailableAlert: boolean = false;\n\n  // Parsed options\n  @State() colorOptions: ColorOption[] = [];\n  @State() storageOptions: StorageOption[] = [];\n  @State() installmentOptions: InstallmentOption[] = [];\n\n  // Product images for carousel\n  @State() productImages: string[] = [];\n\n  // Stock threshold (TEL uses entryBarrier = 1, so stock > 1 means available)\n  private readonly ENTRY_BARRIER = 1;\n\n  // ------------------------------------------\n  // LIFECYCLE\n  // ------------------------------------------\n\n  componentWillLoad() {\n    this.loadProductDetail();\n  }\n\n  // ------------------------------------------\n  // METHODS\n  // ------------------------------------------\n\n  private async loadProductDetail() {\n    this.isLoading = true;\n    this.error = null;\n\n    try {\n      // Get product from session (stored by step-catalogue)\n      const storedProduct = catalogueService.getStoredProduct();\n\n      if (!storedProduct) {\n        this.error = 'No se encontró el producto seleccionado';\n        this.isLoading = false;\n        return;\n      }\n\n      this.catalogueProduct = storedProduct;\n\n      // Fetch detailed product info from API\n      const response = await productService.getEquipmentDetail(storedProduct.productId);\n\n      if (response.hasError || !response.product) {\n        // If API fails, use catalogue data as fallback\n        console.warn('[StepProductDetail] API failed, using catalogue data');\n        this.product = this.mapCatalogueToDetail(storedProduct);\n      } else {\n        this.product = response.product;\n      }\n\n      // Parse options\n      this.parseColorOptions();\n      this.parseStorageOptions();\n      this.parseInstallmentOptions();\n\n      // Build images array for carousel\n      this.buildProductImages();\n\n      // Check product availability (TEL pattern: stock > entryBarrier)\n      this.checkAvailability();\n\n      // Store in session\n      productService.storeSelectedProduct(this.product);\n      productService.storeDeviceType('home');\n\n    } catch (err) {\n      console.error('[StepProductDetail] Error:', err);\n      this.error = 'Error al cargar el detalle del producto';\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private mapCatalogueToDetail(cat: CatalogueProduct): ProductDetail {\n    return {\n      productId: cat.productId,\n      productName: cat.productName,\n      imgUrl: cat.imgUrl,\n      regular_price: cat.regular_price,\n      update_price: cat.update_price,\n      installments: cat.installments,\n      shortDescription: cat.shortDescription,\n      colors: cat.colors?.map((c, i) => ({\n        colorId: i,\n        colorName: `Color ${i + 1}`,\n        webColor: c.webColor,\n      })),\n      home: true,\n      catalogId: 6,\n    };\n  }\n\n  private parseColorOptions() {\n    if (!this.product?.colors || this.product.colors.length === 0) {\n      // Default single color if none specified\n      this.colorOptions = [{\n        colorId: 0,\n        colorName: 'Default',\n        webColor: '#333333',\n      }];\n      return;\n    }\n\n    this.colorOptions = this.product.colors.map((color: any, index: number) => ({\n      colorId: color.colorId || index,\n      colorName: color.colorName || `Color ${index + 1}`,\n      webColor: color.webColor || '#333333',\n      productId: color.productId,\n      imgUrl: color.imgUrl,\n    }));\n  }\n\n  private parseStorageOptions() {\n    if (!this.product?.storages || this.product.storages.length === 0) {\n      // No storage options for this product\n      this.storageOptions = [];\n      return;\n    }\n\n    this.storageOptions = this.product.storages.map((storage: any, index: number) => ({\n      storageId: storage.storageId || index,\n      storageName: storage.storageName || storage.name || `${storage.size}GB`,\n      productId: storage.productId,\n      price: storage.price,\n    }));\n  }\n\n  private parseInstallmentOptions() {\n    const totalPrice = this.product?.regular_price || 0;\n    const defaultInstallments = this.product?.installments || 36;\n\n    // Common installment options\n    const options = [12, 24, 36];\n\n    this.installmentOptions = options.map(months => ({\n      months,\n      monthlyPrice: Number((totalPrice / months).toFixed(2)),\n      totalPrice,\n    }));\n\n    // Set default selection\n    this.selectedInstallments = defaultInstallments;\n  }\n\n  /**\n   * Builds the product images array for the carousel\n   * Following TEL pattern: combines main image, detail image, and any additional images\n   */\n  private buildProductImages() {\n    if (!this.product) {\n      this.productImages = [];\n      return;\n    }\n\n    const images: string[] = [];\n\n    // Add images from product.images if available (already processed by service)\n    if (this.product.images?.length) {\n      images.push(...this.product.images);\n    }\n    // Fallback: use single imgUrl if no images array\n    else if (this.product.imgUrl) {\n      images.push(this.product.imgUrl);\n    }\n\n    // Add color-specific images if available\n    if (this.colorOptions?.length > 0) {\n      this.colorOptions.forEach(color => {\n        if (color.imgUrl && !images.includes(color.imgUrl)) {\n          images.push(color.imgUrl);\n        }\n      });\n    }\n\n    this.productImages = images;\n    console.log('[StepProductDetail] Product images:', this.productImages.length);\n  }\n\n  /**\n   * Checks product availability based on stock quantity\n   * Following TEL pattern: hasStock = stock > entryBarrier\n   *\n   * TEL's product.service.ts uses:\n   *   - entryBarrier = 1\n   *   - hasStock = (stock > entryBarrier)\n   *\n   * The stock value comes from colors[].storages[].products[0].stock in the API response\n   * which is now extracted by productService.getEquipmentDetail()\n   */\n  private checkAvailability() {\n    if (!this.product) {\n      this.isAvailable = false;\n      this.showUnavailableAlert = true;\n      return;\n    }\n\n    // TEL Pattern: stock > entryBarrier (where entryBarrier = 1)\n    // If stock is undefined, it means the colors structure wasn't present or no products found\n    // In that case, we check if product has valid basic data and assume available\n    if (this.product.stock === undefined || this.product.stock === null) {\n      // No stock info from nested structure - assume available if product has basic data\n      this.isAvailable = true;\n      console.log('[StepProductDetail] Availability check - stock undefined (no colors structure), assuming available');\n    } else {\n      // TEL Pattern: hasStock = stock > entryBarrier (1)\n      this.isAvailable = this.product.stock > this.ENTRY_BARRIER;\n      console.log('[StepProductDetail] Availability check (TEL pattern) - stock:', this.product.stock, '> entryBarrier:', this.ENTRY_BARRIER, '=', this.isAvailable);\n\n      if (!this.isAvailable) {\n        this.showUnavailableAlert = true;\n      }\n    }\n  }\n\n  /**\n   * Handles dismissing the unavailable alert and going back\n   */\n  private handleGoBackFromAlert = () => {\n    this.showUnavailableAlert = false;\n    this.onBack?.();\n  };\n\n  private handleColorSelect = (index: number) => {\n    this.selectedColorIndex = index;\n    const color = this.colorOptions[index];\n\n    // Store selected color\n    productService.storeSelectedColor(\n      color.colorId,\n      color.colorName,\n      color.webColor\n    );\n\n    // Update product image if color has specific image\n    if (color.imgUrl && this.product) {\n      this.product = { ...this.product, imgUrl: color.imgUrl };\n    }\n  };\n\n  private handleStorageSelect = (index: number) => {\n    this.selectedStorageIndex = index;\n    const storage = this.storageOptions[index];\n\n    // Store selected storage\n    productService.storeSelectedStorage(storage.storageId, storage.storageName);\n\n    // Update children ID if storage has specific product\n    if (storage.productId) {\n      productService.storeChildrenId(storage.productId);\n    }\n  };\n\n  private handleInstallmentSelect = (months: number) => {\n    this.selectedInstallments = months;\n  };\n\n  // Quantity selector commented out - keeping function for future use\n  // private handleQuantityChange = (delta: number) => {\n  //   const newQty = this.quantity + delta;\n  //   if (newQty >= 1 && newQty <= 5) {\n  //     this.quantity = newQty;\n  //   }\n  // };\n\n  private handleAddToCart = async () => {\n    if (!this.product || this.isAddingToCart) return;\n\n    this.isAddingToCart = true;\n\n    try {\n      const response = await cartService.addToCart(\n        this.product,\n        this.selectedInstallments,\n        this.quantity\n      );\n\n      if (response.hasError) {\n        console.error('[StepProductDetail] Add to cart failed:', response.message);\n        this.error = response.message || 'Error al agregar al carrito';\n        return;\n      }\n\n      // Store mainId for next steps\n      if (response.code) {\n        cartService.storeMainId(response.code);\n        productService.storeMainId(response.code);\n      }\n\n      console.log('[StepProductDetail] Added to cart, proceeding to plans');\n\n      // Navigate to next step (plans selection)\n      this.onNext?.();\n\n    } catch (err) {\n      console.error('[StepProductDetail] Error:', err);\n      this.error = 'Error al agregar el producto al carrito';\n    } finally {\n      this.isAddingToCart = false;\n    }\n  };\n\n  private getCurrentMonthlyPrice(): number {\n    const option = this.installmentOptions.find(o => o.months === this.selectedInstallments);\n    return option?.monthlyPrice || this.product?.update_price || 0;\n  }\n\n  private formatPrice(price: number): string {\n    return `$${price.toFixed(2)}`;\n  }\n\n  // ------------------------------------------\n  // RENDER HELPERS\n  // ------------------------------------------\n\n  private renderBreadcrumb() {\n    return (\n      <div class=\"breadcrumb\">\n        <span class=\"breadcrumb-item\" onClick={this.onBack}>\n          Catálogo\n        </span>\n        <span class=\"breadcrumb-separator\">&gt;</span>\n        <span class=\"breadcrumb-item active\">\n          {this.product?.productName || 'Detalle'}\n        </span>\n      </div>\n    );\n  }\n\n  private renderColorSelector() {\n    if (this.colorOptions.length <= 1) return null;\n\n    return (\n      <div class=\"selector-section\">\n        <h4 class=\"selector-title\">Color</h4>\n        <div class=\"color-options\">\n          {this.colorOptions.map((color, index) => (\n            <button\n              class={{\n                'color-circle': true,\n                'selected': this.selectedColorIndex === index,\n              }}\n              style={{ backgroundColor: color.webColor }}\n              onClick={() => this.handleColorSelect(index)}\n              title={color.colorName}\n            >\n              {this.selectedColorIndex === index && (\n                <svg class=\"check-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"3\">\n                  <polyline points=\"20 6 9 17 4 12\"></polyline>\n                </svg>\n              )}\n            </button>\n          ))}\n        </div>\n        <span class=\"selected-label\">{this.colorOptions[this.selectedColorIndex]?.colorName}</span>\n      </div>\n    );\n  }\n\n  private renderStorageSelector() {\n    if (this.storageOptions.length === 0) return null;\n\n    return (\n      <div class=\"selector-section\">\n        <h4 class=\"selector-title\">Almacenamiento</h4>\n        <div class=\"storage-options\">\n          {this.storageOptions.map((storage, index) => (\n            <button\n              class={{\n                'storage-button': true,\n                'selected': this.selectedStorageIndex === index,\n              }}\n              onClick={() => this.handleStorageSelect(index)}\n            >\n              {storage.storageName}\n            </button>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  private renderInstallmentSelector() {\n    return (\n      <div class=\"selector-section\">\n        <h4 class=\"selector-title\">Plazos de pago</h4>\n        <div class=\"installment-options\">\n          {this.installmentOptions.map(option => (\n            <button\n              class={{\n                'installment-button': true,\n                'selected': this.selectedInstallments === option.months,\n              }}\n              onClick={() => this.handleInstallmentSelect(option.months)}\n            >\n              <span class=\"months\">{option.months} meses</span>\n              <span class=\"price\">{this.formatPrice(option.monthlyPrice)}/mes</span>\n            </button>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  private renderQuantitySelector() {\n    return (\n      <div class=\"selector-section\">\n        {/* <h4 class=\"selector-title\">Cantidad</h4>\n        <div class=\"quantity-selector\">\n          <button\n            class=\"qty-button\"\n            onClick={() => this.handleQuantityChange(-1)}\n            disabled={this.quantity <= 1}\n          >\n            -\n          </button>\n          <span class=\"qty-value\">{this.quantity}</span>\n          <button\n            class=\"qty-button\"\n            onClick={() => this.handleQuantityChange(1)}\n            disabled={this.quantity >= 5}\n          >\n            +\n          </button>\n        </div> */}\n      </div>\n    );\n  }\n\n  private renderPriceSection() {\n    const monthlyPrice = this.getCurrentMonthlyPrice();\n    const totalPrice = this.product?.regular_price || 0;\n\n    return (\n      <div class=\"price-section\">\n        <div class=\"price-row monthly\">\n          <span class=\"label\">Pago mensual</span>\n          <span class=\"value\">{this.formatPrice(monthlyPrice)}</span>\n        </div>\n        <div class=\"price-row total\">\n          <span class=\"label\">Precio total</span>\n          <span class=\"value\">{this.formatPrice(totalPrice)}</span>\n        </div>\n        <div class=\"price-row installments\">\n          <span class=\"label\">Financiado a</span>\n          <span class=\"value\">{this.selectedInstallments} meses</span>\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Renders the availability status indicator (TEL pattern)\n   */\n  private renderAvailabilityStatus() {\n    return (\n      <div class=\"availability-status\">\n        {this.isAvailable ? (\n          <div class=\"availability-status--available\">\n            <svg class=\"availability-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"></path>\n              <polyline points=\"22 4 12 14.01 9 11.01\"></polyline>\n            </svg>\n            <span>Disponible</span>\n          </div>\n        ) : (\n          <div class=\"availability-status--unavailable\">\n            <svg class=\"availability-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path>\n              <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line>\n              <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\n            </svg>\n            <span>No disponible</span>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  /**\n   * Renders the unavailable product alert modal\n   */\n  private renderUnavailableAlert() {\n    if (!this.showUnavailableAlert) return null;\n\n    return (\n      <div class=\"unavailable-alert-overlay\">\n        <div class=\"unavailable-alert\">\n          <div class=\"unavailable-alert__icon\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path>\n              <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line>\n              <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\n            </svg>\n          </div>\n          <h3 class=\"unavailable-alert__title\">Producto no disponible</h3>\n          <p class=\"unavailable-alert__message\">\n            Lo sentimos, este equipo no está disponible actualmente.\n            Por favor seleccione otro equipo del catálogo.\n          </p>\n          <button class=\"unavailable-alert__btn\" onClick={this.handleGoBackFromAlert}>\n            Volver al catálogo\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // ------------------------------------------\n  // RENDER\n  // ------------------------------------------\n\n  render() {\n    return (\n      <Host>\n        <div class=\"step-product-detail\">\n          {/* Unavailable Alert Modal */}\n          {this.renderUnavailableAlert()}\n\n          {/* Loading */}\n          {this.isLoading && (\n            <div class=\"loading-container\">\n              <div class=\"spinner\"></div>\n              <p>Cargando producto...</p>\n            </div>\n          )}\n\n          {/* Error */}\n          {this.error && !this.isLoading && (\n            <div class=\"error-container\">\n              <p>{this.error}</p>\n              <button class=\"btn-retry\" onClick={() => this.loadProductDetail()}>\n                Reintentar\n              </button>\n              <button class=\"btn-back\" onClick={this.onBack}>\n                Volver al catálogo\n              </button>\n            </div>\n          )}\n\n          {/* Product Detail */}\n          {!this.isLoading && !this.error && this.product && (\n            <div class=\"product-container\">\n              {/* Breadcrumb */}\n              {this.renderBreadcrumb()}\n\n              {/* Main Content Grid */}\n              <div class=\"product-grid\">\n                {/* Left Column: Image Carousel */}\n                <div class=\"product-image-section\">\n                  <ui-image-carousel\n                    images={this.productImages}\n                    loop={true}\n                    showNavigation={this.productImages.length > 1}\n                    showIndicators={this.productImages.length > 1}\n                    autoplayInterval={0}\n                  ></ui-image-carousel>\n                </div>\n\n                {/* Right Column: Details */}\n                <div class=\"product-details-section\">\n                  {/* Brand & Name */}\n                  {this.product.brandName && (\n                    <span class=\"brand-name\">{this.product.brandName}</span>\n                  )}\n                  <h1 class=\"product-name\">{this.product.productName}</h1>\n\n                  {/* Description */}\n                  {this.product.shortDescription && (\n                    <p class=\"product-description\">\n                      {productService.cleanDescription(this.product.shortDescription)}\n                    </p>\n                  )}\n\n                  {/* Availability Status Indicator */}\n                  {this.renderAvailabilityStatus()}\n\n                  {/* Color Selector */}\n                  {this.renderColorSelector()}\n\n                  {/* Storage Selector */}\n                  {this.renderStorageSelector()}\n\n                  {/* Installment Selector */}\n                  {this.renderInstallmentSelector()}\n\n                  {/* Quantity Selector */}\n                  {this.renderQuantitySelector()}\n\n                  {/* Price Section */}\n                  {this.renderPriceSection()}\n\n                  {/* Add to Cart Button */}\n                  <button\n                    class={{\n                      'btn-add-to-cart': true,\n                      'loading': this.isAddingToCart,\n                      'disabled': !this.isAvailable,\n                    }}\n                    onClick={this.handleAddToCart}\n                    disabled={this.isAddingToCart || !this.isAvailable}\n                  >\n                    {this.isAddingToCart ? (\n                      <span class=\"loading-text\">\n                        <span class=\"spinner-small\"></span>\n                        Agregando...\n                      </span>\n                    ) : !this.isAvailable ? (\n                      'No disponible'\n                    ) : (\n                      'Continuar'\n                    )}\n                  </button>\n\n                  {/* Back Button */}\n                  <button class=\"btn-back-link\" onClick={this.onBack}>\n                    &larr; Volver al catálogo\n                  </button>\n                </div>\n              </div>\n\n              {/* Features Section */}\n              {this.product.features && this.product.features.length > 0 && (\n                <div class=\"features-section\">\n                  <h3 class=\"features-title\">Características</h3>\n                  <ul class=\"features-list\">\n                    {this.product.features.map(feature => (\n                      <li class=\"feature-item\">{feature}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n\n              {/* Specifications Section */}\n              {this.product.specifications && this.product.specifications.length > 0 && (\n                <div class=\"specs-section\">\n                  <h3 class=\"specs-title\">Especificaciones</h3>\n                  <div class=\"specs-grid\">\n                    {this.product.specifications.map((spec: any) => (\n                      <div class=\"spec-item\">\n                        <span class=\"spec-label\">{spec.name}</span>\n                        <span class=\"spec-value\">{spec.value}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n"]}